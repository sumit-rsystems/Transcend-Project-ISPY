<apex:page standardController="Post_Surgaory_Summary__c" extensions="PostSurgerySummaryController" id="pageId" tabStyle="Patient_Custom__c" sidebar="false" action="{!saveCrf}">
<script type="text/javascript">
    function addYearInDateField(relatedYearShow) {
        //alert(document.getElementById('datePicker').innerHTML);
         var currentYear = new Date().getFullYear();
         var startYear;
         var endYear;
         
         if(relatedYearShow == 'past'){
             startYear= 1900;
             endYear=currentYear;
         }else if(relatedYearShow == 'future'){
            startYear= currentYear;
            endYear= currentYear + 30;
         }else{
             startYear= 1950;
             endYear=currentYear + 20;
         }
         
         var htmlStr='';
         if(startYear<endYear){
            for(i=startYear;i<endYear+1;i++){
                if(i == currentYear) {
                    htmlStr += "<option value=\""+i+"\" selected=\"selected\">"+i+"</option>";
                } else {
                    htmlStr += "<option value=\""+i+"\">"+i+"</option>";
                }
            }
        }
        //alert(htmlStr);
        document.getElementById('calYearPicker').innerHTML = htmlStr; 
    }
</script>

<script>

function check(currentTabValue) {
    if(currentTabValue == 'procedureTab') {
        var surgeonList = document.getElementById('pageId:formId:blockId:blockSectionId:surgeonSelectItem:surgeonSelect').value;
        //alert(surgeonList);
        if(surgeonList == 'other') {
            var othersurgeonTextBox = document.getElementById('pageId:formId:blockId:blockSectionId:surgeonOtherBlock:surgeonOther');
            if(othersurgeonTextBox.value == '') {
                alert("Please enter name of other surgeon.");
                othersurgeonTextBox.focus();
                return false;
            }
        }
        var insertedProcedureIds = document.getElementById('pageId:formId:pageBlockProcedure:pageSectionId:pageCompId:ProcedureComponent:insertedProcedureIds').value;
        document.getElementById('pageId:formId:ProcedureIds').value = insertedProcedureIds;
        //alert(document.getElementById('pageId:formId:ProcedureIds').value); 
    }
    return true;
}

function showOtherSurgeon(val) {

    if(val.value=='other') {
        document.getElementById('pageId:formId:blockId:blockSectionId:surgeonOtherBlock:surgeonOtherLabel').parentNode.style.display = '';
        document.getElementById('pageId:formId:blockId:blockSectionId:surgeonOtherBlock:surgeonOther').parentNode.style.display = '';
        document.getElementById('pageId:formId:blockId:blockSectionId:surgeonOtherBlock:surgeonOther').focus();
    } else {
        document.getElementById('pageId:formId:blockId:blockSectionId:surgeonOtherBlock:surgeonOtherLabel').parentNode.style.display = 'none';
        document.getElementById('pageId:formId:blockId:blockSectionId:surgeonOtherBlock:surgeonOther').parentNode.style.display = 'none';
    }
}
function showCalciPost(val){
    document.getElementById('pageId:formId:isCalci').value = val.value;
    if(val.value == 'Yes'){
        document.getElementById('pageId:formId:panelCalciDetailId').style.display='';
    } else {
        document.getElementById('pageId:formId:panelCalciDetailId').style.display='none';
    }
}

function showCalciDetail(val) {
    var selectedValue = document.getElementById('pageId:formId:pageBlockCalciDetailId:pageBlockSectionCalciDetail:SectionCalciDetailId:CalciDetail_selected').options;
    //alert(selectedValue.length);
    var selectedValueStr = '';
    for(var i=0; i<selectedValue.length; i++) {
        //alert(selectedValue[i].text);
        selectedValueStr+= selectedValue[i].text+';';
    }
    selectedValueStr = selectedValueStr.substring(0, selectedValueStr.length-1);
    document.getElementById('pageId:formId:isCalciPickList').value = selectedValueStr;
}

function showDCISPost(val){
    document.getElementById('pageId:formId:isDCIS').value = val.value;
    if(val.value == 'Yes'){
        document.getElementById('pageId:formId:DCISOutputPanel').style.display='';
    } else {
        document.getElementById('pageId:formId:DCISOutputPanel').style.display='none';
    }
}
function showLCIS(val){
    document.getElementById('pageId:formId:isLCIS').value = val.value;
    if(val.value == 'Yes'){
        document.getElementById('pageId:formId:LCISOutputPanel').style.display='';
    } else {
        document.getElementById('pageId:formId:LCISOutputPanel').style.display='none';
    }
}
function showITP(val){
    document.getElementById('pageId:formId:isInasive').value = val.value;
    if(val.value == 'Yes'){
        document.getElementById('pageId:formId:InvasiveTumorPanel').style.display='';
    } else {
        document.getElementById('pageId:formId:InvasiveTumorPanel').style.display='none';
    }
}
function showOtherInvasive(val){
    if(val.checked == true){
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:trId').style.display='';
    } else {
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:trId').style.display='none';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:trId').value="";
    }
}
function showOther(val) {
    if(val.checked == true) {
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:textId').style.display='';
    } else {
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:textId').style.display='none';
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:textId').value="";
    }
}

function showMarginOther() {
    var selectedValue = document.getElementById('pageId:formId:marginBlockId:marginSectionId:otherChangesSectionId:otherChangesId_selected').options;
    //alert(selectedValue.length);
    for(var i=0; i<selectedValue.length; i++) {
        //alert(selectedValue[i].text);
        if(selectedValue[i].text == 'Other') {
            document.getElementById('pageId:formId:marginBlockId:marginSectionId:otherChangesSectionId:otherChangeId').style.display = '';
            break;
        }
        else {
            document.getElementById('pageId:formId:marginBlockId:marginSectionId:otherChangesSectionId:otherChangeId').style.display = 'none';
        }
    }
} 

function showSpecificClosestOption(val) {
    if(val.value == 'Specifiy') {
        document.getElementById('pageId:formId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:lcisFrom:specifyTextId').style.display = '';
        //document.getElementById('pageId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:lcisFrom:specifyUnitId').style.display = '';
    }
    else {
        document.getElementById('pageId:formId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:lcisFrom:specifyTextId').style.display = 'none';
        //document.getElementById('pageId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:lcisFrom:specifyUnitId').style.display = 'none';
    }
}

function showLymphOption(val) {
    if(val.value == 'Yes') {
        document.getElementById('pageId:formId:proLymphPanelId').style.display = '';
    }
    else {
        document.getElementById('pageId:formId:proLymphPanelId').style.display = 'none';
    }
}

function enableInput(val, letarality, node, index) {
    
    if(val.checked) {
        //location
        if(node != 'axillary') {
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'LocationItemId:'+letarality+'LocationPanelId').style.display = 'block';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'LocationItemId:'+letarality+'LocationLabelId').style.display = 'block';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'LocationItemId:dummy'+letarality+'LocationPanelId').style.display = 'none';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'LocationItemId:dummy'+letarality+'LocationLabelId').style.display = 'none';
        }
        
        //postive-exmined
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'NodeItemId:'+letarality+'NodePanelId').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'NodeItemId:dummy'+letarality+'NodePanelId').style.display = 'none';
        
        //method of detection
        if(node!='additional') {
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'DetectionItemId:'+letarality+'DetectionPanelId').style.display = 'block';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'DetectionItemId:'+letarality+'DetectionLabelId').style.display = 'block';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'DetectionItemId:dummy'+letarality+'DetectionPanelId').style.display = 'none';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'DetectionItemId:dummy'+letarality+'DetectionLabelId').style.display = 'none';
            showDetectionCheckbox(document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'DetectionItemId:Method_of_Detection'), letarality);
        }
        
        //tumor panel
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'TumorItemId:'+letarality+'TumorPanelId').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'TumorItemId:'+letarality+'TumorLabelId').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'TumorItemId:dummy'+letarality+'TumorPanelId').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'TumorItemId:dummy'+letarality+'TumorLabelId').style.display = 'none';
        
        //Extranodal extension
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'ExtramodalItemId:'+letarality+'ExtramodalExtensionPanel').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'ExtramodalItemId:'+letarality+'ExtramodalExtensionLabel').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'ExtramodalItemId:dummy'+letarality+'ExtramodalExtensionPanel').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'ExtramodalItemId:dummy'+letarality+'ExtramodalExtensionLabel').style.display = 'none';
    } else {
        //location
        if(node != 'axillary') {
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'LocationItemId:'+letarality+'LocationPanelId').style.display = 'none';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'LocationItemId:'+letarality+'LocationLabelId').style.display = 'none';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'LocationItemId:dummy'+letarality+'LocationPanelId').style.display = 'block';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'LocationItemId:dummy'+letarality+'LocationLabelId').style.display = 'block';
        }
        
        //postive-exmined
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'NodeItemId:'+letarality+'NodePanelId').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'NodeItemId:dummy'+letarality+'NodePanelId').style.display = 'block';
        
        //method of detection
        if(node!='additional') {
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'DetectionItemId:'+letarality+'DetectionPanelId').style.display = 'none';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'DetectionItemId:'+letarality+'DetectionLabelId').style.display = 'none';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'DetectionItemId:dummy'+letarality+'DetectionPanelId').style.display = 'block';
            document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'DetectionItemId:dummy'+letarality+'DetectionLabelId').style.display = 'block';
        }
        
        //tumor panel
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'TumorItemId:'+letarality+'TumorPanelId').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'TumorItemId:'+letarality+'TumorLabelId').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'TumorItemId:dummy'+letarality+'TumorPanelId').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'TumorItemId:dummy'+letarality+'TumorLabelId').style.display = 'block';
        
        //Extranodal extension
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'ExtramodalItemId:'+letarality+'ExtramodalExtensionPanel').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':'+letarality+'ExtramodalItemId:'+letarality+'ExtramodalExtensionLabel').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'ExtramodalItemId:dummy'+letarality+'ExtramodalExtensionPanel').style.display = 'block';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+index+':dummy'+letarality+'ExtramodalItemId:dummy'+letarality+'ExtramodalExtensionLabel').style.display = 'block';
    }
}

function addTotalNode(val, nodeType, letarality) {
    //var procedureIndex = val.id.substring(val.id.lastIndexOf("proRepeat")+10, val.id.lastIndexOf("proLymphSectionId")-1);
    //alert(procedureIndex);
    //alert(nodeType);
    if(nodeType == 'Positive') {
        var totalPositive = 0;
        for(var i = 0; i<3; i++) {
            var positiveValue = document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+i+':'+letarality+'NodeItemId:Positive').value;
            var examinedValue = document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+i+':'+letarality+'NodeItemId:Examined').value;
            if(positiveValue!='' && !isNaN(positiveValue)) {
                //if(examinedValue == '') examinedValue = 0;
                if(parseInt(positiveValue) > parseInt(examinedValue)) {
                    alert('Positive nodes can not be greater than examined nodes.');
                    document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+i+':'+letarality+'NodeItemId:Positive').value = '';
                    return false;
                }
                totalPositive+= parseInt(positiveValue); 
            }
        }
        //alert(totalPositive);
        //pageId:formId:proLymphBlockId:rightLymphSectionId:rightTotalItemId:rightTotalPositiveLabel
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'TotalItemId:'+letarality+'TotalPositiveLabel').innerHTML = totalPositive;
        //document.getElementById('pageId:formId:proLymphBlockId:proRepeat:'+procedureIndex+':totalSectionId:totalItemId:hiddenPositive').value = totalPositive;
    } else if(nodeType == 'Examined') {
        //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:1:rightNodeItemId:Examined
        var totalExamined = 0;
        for(var i = 0; i<3; i++) {
            var ExaminedValue = document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+i+':'+letarality+'NodeItemId:Examined').value;
            var positiveValue = document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+i+':'+letarality+'NodeItemId:Positive').value;
            //alert(PositiveValue);
            if(parseInt(positiveValue) > parseInt(ExaminedValue)) {
                alert('Examined nodes can not be less than positive nodes.');
                document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+i+':'+letarality+'NodeItemId:Examined').value = '';
                return false;
            }
            if(ExaminedValue!='' && !isNaN(ExaminedValue)) {
                totalExamined+= parseInt(ExaminedValue); 
            }
        }
        //alert(totalPositive);
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'TotalItemId:'+letarality+'TotalExaminedLabel').innerHTML = totalExamined;
        //document.getElementById('pageId:formId:proLymphBlockId:proRepeat:'+procedureIndex+':totalSectionId:totalItemId:hiddenExamined').value = totalExamined;
    }
}

function showSpecificLymph(val, nodeType, letarality) {

    var lymphIndex = 0;
    if(nodeType == 'Axillary Nodes')lymphIndex = 1;
    if(nodeType == 'Additional Nodes')lymphIndex = 2;
    //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightTumorItemId:Specific_Size_of_Largest_Tumor
    //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightTumorItemId:Tumor_Size_Measurement_Unit
    if(val.value == 'Specify') {
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'TumorItemId:Specific_Size_of_Largest_Tumor').style.display = '';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'TumorItemId:Tumor_Size_Measurement_Unit').style.display = '';
    } else {
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'TumorItemId:Specific_Size_of_Largest_Tumor').style.display = 'none';
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'TumorItemId:Tumor_Size_Measurement_Unit').style.display = 'none';
    } 
}

/*
function removeAll(val) {
    var procedureIndex = val.id.substring(val.id.lastIndexOf("proRepeat")+10, val.id.lastIndexOf("proLymphSectionId")-1);
    var lymphIndex = val.id.substring(val.id.lastIndexOf("proLymphRepeat")+15, val.id.lastIndexOf("proLymphRepeat")+16);
    
    var selectedValue = document.getElementById('pageId:lymphFormId:proLymphBlockId:proRepeat:'+procedureIndex+':proLymphSectionId:proLymphRepeat:'+lymphIndex+':detectionItemId:Detection_Result_selected');
    
    for(var i=0; i<selectedValue.options.length; i++) {
        //alert(selectedValue[i].text);
        if(selectedValue[i].text == 'Not reported') {
            //alert(selectedValue[i].text);
            var removeSelected = document.getElementById('pageId:lymphFormId:proLymphBlockId:proRepeat:'+procedureIndex+':proLymphSectionId:proLymphRepeat:'+lymphIndex+':detectionItemId:Detection_Result_selected').options;
            var removeSelectedLength = removeSelected.length;
            for(var j=0; j<removeSelectedLength; j++) {
                alert(removeSelectedLength);
                alert(removeSelected[j].text);
                //alert(j);
                if(removeSelected[j].text != 'Not reported'){
                    selectedValue.remove(j);
                }
            }
            break;
        }
    }
}*/

function uncheckAll(val, letarality) {
    //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightDetectionItemId:Not_reported_Detection_Result
    var idLength = (letarality+"LympRepeat:").length;
    var lymphIndex = val.id.substring(val.id.lastIndexOf(letarality+"LympRepeat")+idLength, val.id.lastIndexOf(letarality+"DetectionItemId")-1);
    
    //var procedureIndex = val.id.substring(val.id.lastIndexOf("proRepeat")+10, val.id.lastIndexOf("proLymphSectionId")-1);
    //var lymphIndex = val.id.substring(val.id.lastIndexOf("proLymphRepeat")+15, val.id.lastIndexOf("proLymphRepeat")+16);
    if(val.checked) {
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Single_Detection_Result').checked = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Cluster_Detection_Result').checked = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Focus_Detection_Result').checked = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Single_Detection_Result').disabled = true;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Cluster_Detection_Result').disabled = true;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Focus_Detection_Result').disabled = true;
    } else {
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Single_Detection_Result').disabled = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Cluster_Detection_Result').disabled = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+letarality+'LymphSectionId:'+letarality+'LympRepeat:'+lymphIndex+':'+letarality+'DetectionItemId:Focus_Detection_Result').disabled = false;
    }
}

function showDetectionCheckbox(val, laterlity) {
    //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightDetectionItemId:Method_of_Detection
    var idLength = (laterlity+"LympRepeat:").length;
    var lymphIndex = val.id.substring(val.id.lastIndexOf(laterlity+"LympRepeat")+idLength, val.id.lastIndexOf(laterlity+"DetectionItemId")-1);
    //alert('idLength: '+idLength+', lymphIndex: '+lymphIndex);
    //alert('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Single_Detection_Result');
    //var lymphIndex = val.id.substring(val.id.lastIndexOf("proLymphRepeat")+15, val.id.lastIndexOf("proLymphRepeat")+16);
    //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightDetectionItemId:Single_Detection_Result
    //alert(val.value);
    if(val.value == '') {
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Single_Detection_Result').disabled = true;
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Cluster_Detection_Result').disabled = true;
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Focus_Detection_Result').disabled = true;
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Not_reported_Detection_Result').disabled = true;
    } else {
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Single_Detection_Result').disabled = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Cluster_Detection_Result').disabled = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Focus_Detection_Result').disabled = false;
        document.getElementById('pageId:formId:proLymphBlockId:'+laterlity+'LymphSectionId:'+laterlity+'LympRepeat:'+lymphIndex+':'+laterlity+'DetectionItemId:Not_reported_Detection_Result').disabled = false;
    }
}

function Cal_PointsAndGrade(){
    var NG = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:NuclearGradeId').value;
    var MC = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:MitoticCountId').value;
    var TP = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TubulePapillaId').value;
    
    switch(NG)
    {
        case 'Grade I (low)':
            switch(MC)
            {
                case '1pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 3;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 3;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case '2pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case '3pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                break;
                case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                break;
            }
        break;
        case 'Grade II (Intermediate)':
            var MC = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:MitoticCountId').value;
            switch(MC)
            {
                case '1pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case '2pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case '3pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                break;
                case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                break;
            }
        break;
        case 'Grade III (high)':
            var MC = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:MitoticCountId').value;
            switch(MC)
            {
                case '1pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case '2pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case '3pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 9;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 9;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = 'none';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = '';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                        break;
                    }
                break;
                case 'Indeterminate':
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                break;
                case 'Not reported':
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
                break;
            }
        break;
        case 'Indeterminate':
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
        break;
        case 'Not reported':
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBR_Grade').style.display = '';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').style.display = 'none';
        break;  
    }
    
    if(NG == '' || MC == '' || TP == '') {
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = '';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = '';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = '';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = '';
    }
}

function showInvasiveSitu(val) {
    if(val.value == 'Yes') {
        //pageId:marginFormId:marginBlockId:marginSectionId:invasiveCAItem:invasiveCALabel
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:invasiveCAItem:invasiveCALabel').parentNode.parentNode.style.display = '';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:invasiveCATrueItem:invasiveCATrueLabel').parentNode.parentNode.style.display = '';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:situItem:situLabel').parentNode.parentNode.style.display = '';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:situTrueItem:situTrueLabel').parentNode.parentNode.style.display = '';
    } else {
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:invasiveCAItem:invasiveCALabel').parentNode.parentNode.style.display = 'none';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:invasiveCATrueItem:invasiveCATrueLabel').parentNode.parentNode.style.display = 'none';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:situItem:situLabel').parentNode.parentNode.style.display = 'none';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:situTrueItem:situTrueLabel').parentNode.parentNode.style.display = 'none';
        
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:invasiveCAItem:invasiveCAId').value = '';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:invasiveCATrueItem:invasiveCATrueId').value = '';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:situItem:situId').value = '';
        document.getElementById('pageId:formId:marginBlockId:marginSectionId:situTrueItem:situTrueId').value = '';
    }
}

function Cal_ERPRTotalScore(laterlity){
    var componentIdSubValue = 'ReceptorsBlockLeft:ReceptorsCompLeft';
    var componentERPFieldId = 'ERPSPostId';
    var componentERIFieldId = 'ERISPostId';
    var componentPRPFieldId = 'PRPSPostId';
    var componentPRIFieldId = 'PRISPostId';
    
    if(laterlity == 'right') {
        componentIdSubValue = 'ReceptorsBlockRight:ReceptorsCompRight';
        componentERPFieldId = 'ERPSPostRightId';
        componentERIFieldId = 'ERISPostRightId';
        componentPRPFieldId = 'PRPSPostRightId';
        componentPRIFieldId = 'PRISPostRightId';
    }
    
    var erps = document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:'+componentERPFieldId).value.substring(0,1);
    var eris = document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:'+componentERIFieldId).value.substring(0,1);
    var ertotal;
    //alert('-erps-->'+erps);
    //alert('-eris-->'+eris);
    if(erps != 'N' && eris != 'N'){
        ertotal = parseInt(erps) + parseInt(eris);
    } else {
        ertotal = 0;
    }
    //alert('---ertotal--->'+parseInt(ertotal));
    if(!isNaN(ertotal)){    
        document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:ERTotalScoreId').innerHTML = ertotal;
        document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:ERTotalScoreHiddenId').value = ertotal;
    }
    
    var prps = document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:'+componentPRPFieldId).value.substring(0,1);
    var pris = document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:'+componentPRIFieldId).value.substring(0,1);
    var prtotal;
    if(prps != 'N' && pris != 'N'){
        prtotal = parseInt(prps) + parseInt(pris);
    } else {
        prtotal = 0;
    }
    if(!isNaN(prtotal)){
        document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:PRTotalScoreId').innerHTML = prtotal;
        document.getElementById('pageId:formId:'+componentIdSubValue+':receptorsMainComp:PRTotalScoreHiddenId').value = prtotal;
    }
}

function call_Receptors(isReceptorLeftLaterlity, isReceptorRightLaterlity){
    if(isReceptorLeftLaterlity) {
        insertRecPostLeft();
    }
    if(isReceptorRightLaterlity) {
        insertRecPostRight();
    }
}
 
function call_next(){
    next_recep();
}

function receptorShowStatus() {
    document.getElementById('pageId:formId:receptorPageBlock:receptorPageButton:counterStatus.start').style.display = '';
    document.getElementById('pageId:formId:receptorPageBlock:receptorPageButton:counterStatus.stop').style.display = 'none';
}

var changedAdjudicatedStageLeft = 0;
var changedAdjudicatedStageRight = 0;
function Cal_Stage(laterlity) {
    //alert(laterlity);
    //pageId:stageComponentLeft:stagingComp:stagesCompForm:stagesBlock:stagesBlockSection:stagesModifier:Staging_Modifier_Type
    var componentIdSubValue = "stageComponentLeft";
    var Staging_Modifier_TypeId = "Staging_Modifier_Type";
    var Tumor_TypeId = "Tumor_Type";
    var Node_TypeId = "Node_Type";
    var MetastasisId = "Metastasis";
    var Calculated_StageHiddenId = "Calculated_StageHidden";
    var Calculated_Stage_ValueHiddenId = "Calculated_Stage_ValueHidden";
    var Adjudicated_StageId = 'Adjudicated_Stage';
    
    if(laterlity == 'right') {
        componentIdSubValue = "stageComponentRight";
        Staging_Modifier_TypeId = "Staging_Modifier_TypeRight";
        Tumor_TypeId = "Tumor_TypeRight";
        Node_TypeId = "Node_TypeRight";
        MetastasisId = "MetastasisRight";
        Calculated_StageHiddenId = "Calculated_StageHiddenRight";
        Calculated_Stage_ValueHiddenId = "Calculated_Stage_ValueHiddenRight";
        Adjudicated_StageId = 'Adjudicated_StageRight';
    }
    var modifier = document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:stagesBlockSection:stagesModifier:'+Staging_Modifier_TypeId).value;
    var Tumor_TypeValue = document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:stagesSection:stagesTumor:'+Tumor_TypeId).value;
    var Node_TypeValue = document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:stagesSection:stagesNode:'+Node_TypeId).value;
    var MetastasisValue = document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:stagesSection:stagesMetastasis:'+MetastasisId).value;
    var stageStr = '';
    var stageValueStr = '';
    //alert(modifier);
    
    if(MetastasisValue == 'M0' || MetastasisValue == 'MX') {
        if(Tumor_TypeValue == 'Tis' && (Node_TypeValue == 'NX' || Node_TypeValue == 'N0' || Node_TypeValue == 'N0i+' || Node_TypeValue == 'N0i-')) {
            stageStr = 'Stage 0';
        } else if((Tumor_TypeValue == 'T1mic' || Tumor_TypeValue == 'T1a' || Tumor_TypeValue == 'T1b' || Tumor_TypeValue == 'T1c') && (Node_TypeValue == 'NX' || Node_TypeValue == 'N0' || Node_TypeValue == 'N0i+' || Node_TypeValue == 'N0i-')) {
            stageStr = 'Stage IA';
        } else if((Tumor_TypeValue == 'T0' || Tumor_TypeValue == 'Tis' || Tumor_TypeValue == 'T1mic' || Tumor_TypeValue == 'T1a' || Tumor_TypeValue == 'T1b' || Tumor_TypeValue == 'T1c') && (Node_TypeValue == 'N1mic')) {
            stageStr = 'Stage IB';
        } else if((Tumor_TypeValue == 'T0' || Tumor_TypeValue == 'Tis' || Tumor_TypeValue == 'T1mic' || Tumor_TypeValue == 'T1a' || Tumor_TypeValue == 'T1b' || Tumor_TypeValue == 'T1c') && (Node_TypeValue == 'N1a' || Node_TypeValue == 'N1b')) {
            stageStr = 'Stage IIA';
        } else if((Tumor_TypeValue == 'T2') && (Node_TypeValue == 'NX' || Node_TypeValue == 'N0' || Node_TypeValue == 'N0i+' || Node_TypeValue == 'N0i-')) {
            stageStr = 'Stage IIA';
        } else if((Tumor_TypeValue == 'T2') && (Node_TypeValue == 'N1mic' || Node_TypeValue == 'N1a' || Node_TypeValue == 'N1b')) {
            stageStr = 'Stage IIB';
        } else if((Tumor_TypeValue == 'T3') && (Node_TypeValue == 'NX' || Node_TypeValue == 'N0' || Node_TypeValue == 'N0i+' || Node_TypeValue == 'N0i-')) {
            stageStr = 'Stage IIB';
        } else if((Tumor_TypeValue == 'T0' || Tumor_TypeValue == 'Tis' || Tumor_TypeValue == 'T1mic' || Tumor_TypeValue == 'T1a' || Tumor_TypeValue == 'T1b' || Tumor_TypeValue == 'T1c' || Tumor_TypeValue == 'T2' || Tumor_TypeValue == 'T3') && (Node_TypeValue == 'N2a' || Node_TypeValue == 'N2b')) {
            stageStr = 'Stage IIIA';
        } else if((Tumor_TypeValue == 'T3') && (Node_TypeValue == 'N1mic' || Node_TypeValue == 'N1a' || Node_TypeValue == 'N1b')) {
            stageStr = 'Stage IIIA';
        } else if((Tumor_TypeValue == 'T4a' || Tumor_TypeValue == 'T4b' || Tumor_TypeValue == 'T4c' || Tumor_TypeValue == 'T4d') && (Node_TypeValue == 'N1mic' || Node_TypeValue == 'N1a' || Node_TypeValue == 'N1b' || Node_TypeValue == 'NX' || Node_TypeValue == 'N0' || Node_TypeValue == 'N0i+' || Node_TypeValue == 'N0i-' || Node_TypeValue == 'N2a' || Node_TypeValue == 'N2b')) {
            stageStr = 'Stage IIIB';
        } else if(Node_TypeValue == 'N3a' || Node_TypeValue == 'N3b' || Node_TypeValue == 'N3c') {
            stageStr = 'Stage IIIC';
        }
    } else if(MetastasisValue == 'M1') {
        stageStr = 'Stage IV';
    }
    
    if(modifier == 'Clinical Staging') {
        stageValueStr+= 'c';
    }
    else if(modifier == 'Pathological Staging'){
        stageValueStr+= 'p';
    }
    else {
        stageValueStr+= '';
    }
    
    stageValueStr+= Tumor_TypeValue;
    stageValueStr+= Node_TypeValue;
    stageValueStr+= MetastasisValue;
    //alert(stageStr);
    if(stageStr != '') {
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:Calculated_Stage').innerHTML = stageStr;
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:'+Calculated_StageHiddenId).value = stageStr;
        if(laterlity == 'right' && changedAdjudicatedStageRight == 0) {
            document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:adjudicateSection:adjudicateStage:Adjudicated_StageRight').value = stageStr;
        } else if(laterlity == 'left' && changedAdjudicatedStageLeft == 0) {
            document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:adjudicateSection:adjudicateStage:Adjudicated_Stage').value = stageStr;
        }
    } else {
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:Calculated_Stage').innerHTML = '&nbsp;';
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:'+Calculated_StageHiddenId).value = '';
        if(laterlity == 'right' && changedAdjudicatedStageRight == 0) {
            document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:adjudicateSection:adjudicateStage:Adjudicated_StageRight').value = '';
        } else if(laterlity == 'left' && changedAdjudicatedStageLeft == 0) {
            document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:adjudicateSection:adjudicateStage:Adjudicated_Stage').value = '';
        }
    }
    
    if(stageValueStr != '') {
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:Calculated_Stage_Value').innerHTML = stageValueStr;
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:'+Calculated_Stage_ValueHiddenId).value = stageValueStr;
    } else {
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:Calculated_Stage_Value').innerHTML = '&nbsp;';
        document.getElementById('pageId:formId:'+componentIdSubValue+':stagingComp:stagesBlock:calculationSection:stageCalculation:'+Calculated_Stage_ValueHiddenId).value = '';
    }
}

function calculatedAlreadySet(laterlity) {
    //alert(laterlity);
    if(laterlity == 'left') {
        changedAdjudicatedStageLeft = 1;
    } else if(laterlity == 'right') {
        changedAdjudicatedStageRight = 1;
    }
}

function call_Stage(isReceptorLeftLaterlity, isReceptorRightLaterlity){
    
    if(isReceptorLeftLaterlity) {
        insertStageLeft();
    }
    if(isReceptorRightLaterlity) {
        insertStageRight();
    }
}

function call_nextStage(){
    nextStage();
}

function stageShowStatus() {
    document.getElementById('pageId:formId:stagingPageBlock:stagingPageButton:counterStatus.start').style.display = '';
    document.getElementById('pageId:formId:stagingPageBlock:stagingPageButton:counterStatus.stop').style.display = 'none';
}

function checkCancel() {
    if(confirm("Completely cancel and remove?")){
        return true;
    } else {
        return false;
    }
}

function checkDelete() {
    if(confirm("Are you sure you want to Delete this form?")){
        return true;
    } else {
        return false;
    }
}

function specify(val) {
    if(val.value == 'Specify') {
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:theText').style.display = '';
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:Specific_Closest_Margin_Measurement_Unit').disabled = false;
    } else {
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:theText').style.display = 'none';
        document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:Specific_Closest_Margin_Measurement_Unit').disabled = true;
    }
}

function showMarginClosed(val) {
    //alert(val.value);
    if(val.value == 'Pleomorphic') {
        //pageId:formId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:marginClosedPanel
        //alert(document.getElementById('pageId:formId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:marginClosedPanel').innerHTML);
        document.getElementById('pageId:formId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:marginClosedPanel').style.display = '';
    } else {
        document.getElementById('pageId:formId:LCISPageBlockId:LCISOutputPanelSection:LCISComponent:LCISCompId:marginClosedPanel').style.display = 'none';
    }
}

function startSplash() {
    var divObj = document.getElementById('splashDiv');
    var msgSplash =document.getElementById('waitMsg');
    var browserName = navigator.appName;
    if(browserName == 'Netscape'){
        divObj.style.display='table-cell'; 
    } else {
        divObj.style.display='table-cell';
    }
}

function endSplash() {            
    document.getElementById('splashDiv').style.display='none';
}
</script>
<style>
.tableProcedureHeadPage {
    width: 22%;
}
.tableLateralityHeadPage {
    width: 6%;
}
.tableLocationHeadPage {
    width: 18%;
}

.activeTab {
    background: none repeat scroll 0 0 #FFFFFF;
    border-bottom: 2px solid #FFFFFF;
    color: #000000;
    font-weight: 600;
    width: 150px;
}

.inactiveTab {
        cursor: pointer;
        /*background-color: #7A9FA0;*/
        background:#2e84c5 url({!$Resource.Tabmenubg}) left top repeat-x;
        color: white; /*#3C3C3C;*/
        font-weight: bold;
        font-size: 12px;
        /*height: 22px;*/
        height: 15px;
        width: 150px;
        vertical-align: middle;
        /*padding-top: 4px;*/
        border: none;
}
    
.rich-tab-inactive {
    background-repeat: repeat-x;
    border-color: #FFFFFF;
    border-style: none;
    border-width: 0;
    cursor: pointer;
}

.rich-tabhdr-side-border {
    background-image:none; 
    border-radius: 4px 4px 0 0;
    background-color: none;
    width: 2px;
}

.rich-tabhdr-side-cell {
    box-shadow: 0 -2px 2px #A7A7A8;
    /*border: 2px solid #056FC1;*/
    border-top: 2px solid #056FC1;
    border-left: 2px solid #056FC1;
    border-right: 2px solid #056FC1;
    border-radius: 4px 4px 0 0;
}

.rich-tabpanel-content {
    background-color: #fff;
    border-left: 2px solid #056FC1;
    border-right: 2px solid #056FC1;
    border-bottom: 2px solid #056FC1;
}

.rich-tab-bottom-line {
    border-bottom: 1px solid #056FC1;
}

.rich-tabpanel-content-position {

}

.accountTab .tertiaryPalette, .individualPalette .accountBlock .tertiaryPalette, .layoutEdit .individualPalette .accountBlock .tertiaryPalette {
    /*background-color: #236FBD;*/
    background-color: #97C7EC;
    /*background: url({!$Resource.Tabmenubg}) repeat-x scroll left top #2E84C5;*/
}

body .bPageBlock, body #bodyCell .bResource .secondaryPalette, body .secondaryPalette.bPageBlock, body .individualPalette .secondaryPalette.bPageBlock, body .bodyDiv .genericTable, body .genericPageBlockTable, body .bodyDiv .bSubBlock, body .bComponentBlock .bPageBlock, body .bMyDashboard .bPageBlock, body.rlHoverFrame .bPageBlock, body.subjectSelectionPopup div.choicesBox, body.lookupTab .secondaryPalette.bPageBlock, body.popupTab .secondaryPalette.bPageBlock, body.UserTagStatsPage .secondaryPalette.bPageBlock {
    background-color: #fff;
}

/*body button, body .x-btn, body .btn, body .btnDisabled, body .btnCancel, body .menuButton .menuButtonButton {
    background: url({!$Resource.Tabmenubg}) repeat-x scroll left top #2E84C5;
    border: 1px solid #E8EDF1;
    border-radius: 4px 4px 4px 4px;
    box-shadow: 0 0 2px #4D4D4D;
    color: #FFFFFF;
    height: 20px;
    padding: 3px 10px;
    text-align: center;
    width: 100px;
}*/
.name {
    font-size: 1.50em;
    font-weight: bold;
}
.selectbox{
    background-color: #2F96E4;
    font-family: Arial, sans-serif;
    font-size: 12px;
    font-weight: normal;
    height: 25px;
    position: relative;
    width: 152px;
    border:1px solid #adaeae; -moz-border-radius: 6px; -webkit-border-radius:6px; -khtml-border-radius: 6px; border-radius:6px;
    color:#fff;
    font-size:12px; font-weight: bold;
    padding:3px 0 3px 10px;
}
</style>
<div id="splashDiv" style="display: none;width:100%;height:100%;background-color: #000;z-index: 1; position: absolute;opacity:0.5;">
    <div style="text-align: center; top: 40%;width:100%;height:100%;position: fixed;" class="circle"><apex:image value="{!$Resource.LoadingImg1}"></apex:image></div>
</div>
<span class ="name">Patient's Details</span>
<br/>
    <c:PatientDetailReadOnly patientId="{!trialPatientObj.Patient_Id__c}"/>
<br/>
<table width="100%">
    <tr>
        <td width="40%" align="left">
             <span class ="name">Post Surgery Summary</span>
        </td>
        <td width="60%" align="left">
            <apex:outputText style="font-weight: bold; color:#fff; padding-right:7px;" styleClass="selectbox" id="trialName" value="Trial: {!trialPatientObj.Trial_Id__r.Name}" />
        </td>
    </tr>
</table>
<apex:pageMessage summary="This user is not associate with any Institute and Trial." rendered="{!isUserNotAssocite}" severity="error" strength="3" />
<apex:form id="formId" onsubmit="return check('{!currentTab}');">
    <apex:pageMessages ></apex:pageMessages>
    <apex:pageBlock id="menoPageBlockBtn" helpTitle="Help"  helpUrl="/apex/PostSurgeryFormUserGuide" rendered="{!isComplete}" tabStyle="Account">
        <apex:pageBlockButtons location="top">
            <apex:commandButton action="{!next}" value="Save & Close" reRender="theTabPanel" status="splashStatus">
                <apex:param name="nextTab" value="saveAndClose"/>
            </apex:commandButton>
            <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>
            <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
        </apex:pageBlockButtons>
    </apex:pageBlock> 
    <apex:pageBlock rendered="{!isDelete}">
          <apex:pageBlockButtons location="top" >
              <apex:commandButton action="{!customCancel}" value="Delete" onclick="return checkDelete();" immediate="true" rendered="{!profileName =='System Administrator'}"/>
              <!-- <apex:commandButton value="Generate Pdf" action="{!redirect}" rendered="{!postSurObj.Status__c == 'Accepted'}"/> -->
              <apex:commandLink style="text-decoration:none;" value="Generate Pdf" target="_blank" styleClass="btn" action="{!redirect}" rendered="{!postSurObj.Status__c == 'Accepted'}"/>
          </apex:pageBlockButtons>
    </apex:pageBlock>
    <apex:actionFunction name="next" action="{!next}"  rerender="theTabPanel" status="splashStatus"/>
    <apex:inputHidden value="{!nextTabName}" id="nextTabNameID"/>
    <apex:actionStatus id="splashStatus" onstart="startSplash();" onstop="endSplash(); " /> 
    <apex:pageMessages id="errMsg"/>
     
<apex:outputPanel rendered="{!IF((isUserNotAssocite==false), true, false)}">
    <script>
        function enterToNextTab(val){
            //alert(val);
            if('{!isComplete}' != 'false'){
                document.getElementById('pageId:formId:nextTabNameID').value = val;
                next();
            }
        }
    </script>
    <apex:tabPanel switchType="client" value="{!currentTab}" id="theTabPanel" tabClass="activeTab" inactiveTabClass="inactiveTab" activeTabClass="activeTab" contentStyle="font-size: 12px;">
    <apex:tab label="Procedure" name="procedureTab" id="ProcedureId" rendered="{!isComplete}" ontabenter="enterToNextTab('procedureTab');">
            <apex:inputHidden id="ProcedureIds" value="{!ProcedureIds}" />
        <apex:pageBlock id="blockId" tabStyle="Account">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="specimensTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection columns="1" id="blockSectionId">
                <apex:pageMessage summary="Date shouldn't be in future" rendered="{!isShowDateError}" severity="error" strength="3" />
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Date Of Procedure" for="procedureDate"/>
                    <apex:outputPanel >
                        <apex:inputField value="{!postsurObj.Date_Of_Procedure__c}" id="procedureDate">
                            <script type="text/javascript">
                                document.getElementById('{!$Component.procedureDate}').onfocus = function onfocus(event) {
                                DatePicker.pickDate(true, '{!$Component.procedureDate}', false); 
                                addYearInDateField('past'); 
                                };
                            </script>
                            <apex:actionSupport event="onchange"  action="{!showProcedure}" rerender="procedureBlock" status="proStatus"/>
                        </apex:inputField>
                        <apex:actionStatus id="proStatus" startText="loading..."/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="surgeonSelectItem">
                    <apex:outputLabel value="Surgeon" for="surgeonSelect"/>
                    <apex:selectList value="{!selectedSurgeon}" size="1" id="surgeonSelect" onChange="showOtherSurgeon(this);">
                           <apex:selectOptions value="{!surgeonOption}"/>
                       </apex:selectList> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="surgeonOtherBlock" labelStyle="display:none;" dataStyle="display:none;">
                    <apex:outputLabel id="surgeonOtherLabel" value="Other Surgeon" for="surgeonOther"/>
                    <apex:inputField value="{!postsurObj.Surgeon_Other__c}" id="surgeonOther"/>
                </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
                <apex:outputPanel id="procedureBlock">
                    <apex:pageBlockSection rendered="{!isShowProcedure}" title="Existing procedure before this post surgery summary" columns="1">
                    <apex:pageBlockSectionItem >
                        <apex:dataTable cellpadding="3" cellspacing="1" width="100%" value="{!procedureList}" var="newPro"  id="theTable" rowClasses="odd,even">
            
                <!--                ==============================make Procedure column=============================    -->
                            <apex:column style="" headerClass="tableHead tableProcedureHeadPage" id="tableColumnId">
                                <apex:facet name="header">Procedure</apex:facet>
                                <apex:outputPanel >
                                    <apex:outputText value="{!newPro.Procedure_Name__c}" />
                                </apex:outputPanel>
                            </apex:column>
                            
                <!--                ==============================make Laterality column=============================    -->
                            <apex:column style="" headerClass="tableHead tableLateralityHeadPage">
                                <apex:facet name="header">Laterality</apex:facet>
                                <apex:outputPanel >
                                    <apex:outputText value="{!newPro.Laterality__c}" />
                                </apex:outputPanel>
                            </apex:column>
                            
                <!--                ==============================make Location column=============================    -->
                            <apex:column style="" headerClass="tableHead tableLocationHeadPage">
                                <apex:facet name="header">Location</apex:facet>
                                <apex:outputPanel >
                                    <apex:outputText value="{!newPro.Location__c}" />
                                </apex:outputPanel>
                            </apex:column>
                        </apex:dataTable>
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
            </apex:outputPanel>
        </apex:pageBlock>
        
        <apex:pageBlock title="Surgical Procedures" id="pageBlockProcedure" tabStyle="Account">
            <apex:pageBlockSection columns="1" id="pageSectionId">
                <c:ProcedureComponent id="pageCompId"/>
            </apex:pageBlockSection>
        </apex:pageBlock>
        
    </apex:tab>
    <apex:tab label="Specimens" name="specimensTab" id="tabTwo" rendered="{!isComplete}" ontabenter="enterToNextTab('specimensTab');">
        <apex:pageBlock title="Specimens" tabStyle="Account">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="procedureTab"/>
                </apex:commandButton>
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="lymphTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection title="Gross Pathology: Tumor" columns="1" id="TumorSectionId">
                <apex:pageBlockSectionItem id="typeId">
                    <apex:outputLabel >Tumor Type</apex:outputLabel>
                    <apex:outputPanel >
                        <apex:inputField value="{!postSurObj.Type_Of_Tumor__c}">
                            <apex:actionSupport event="onchange"  action="{!showTumorOption}" rerender="TumorSectionId" status="counterStatus"/>
                        </apex:inputField>
                        <apex:actionStatus id="counterStatus" startText="loading..."/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!isShowGrossMass}">
                    <apex:outputLabel >Size of gross mass</apex:outputLabel>
                    <apex:outputPanel >
                        <apex:inputField value="{!postSurObj.Size_of_Gross_Mass_Width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:inputField value="{!postSurObj.Size_of_Gross_Mass_Height__c}" />
                        <apex:inputField value="{!postSurObj.Gross_Mass_Measurement_Unit__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!isShowLargestGross}">
                    <apex:outputLabel >Size of largest gross mass</apex:outputLabel>
                    <apex:outputPanel >
                        <apex:inputField value="{!postSurObj.Size_of_Largest_Gross_Mass_Width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:inputField value="{!postSurObj.Size_of_Largest_Gross_Mass_Height__c}" />
                        <apex:inputField value="{!postSurObj.Largest_Gross_Mass_Measurement_Unit__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!isShowLargestGross}">
                    <apex:outputLabel >Total span multifocal gross masses</apex:outputLabel>
                    <apex:outputPanel >
                        <apex:inputField value="{!postSurObj.Total_span_multifocal_gross_mass_width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:inputField value="{!postSurObj.Total_span_multifocal_gross_mass_height__c}" />
                        <apex:inputField value="{!postSurObj.Total_Span_Measurement_Unit__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!isShowGrossChanges}">
                    <apex:outputLabel >Span of gross changes</apex:outputLabel>
                    <apex:outputPanel >
                        <apex:inputField value="{!postSurObj.Span_of_gross_changes_width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:inputField value="{!postSurObj.Span_of_gross_changes_height__c}" />
                        <apex:inputField value="{!postSurObj.Gross_Changes_Measurement_Unit__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSection title="{!procedureSectionTitle}" columns="1" id="procedureSectionId">
                    <apex:repeat value="{!wrapProcedureList}" var="procData">
                        <apex:pageBlockSection columns="1" id="specimenSectionId">
                            <apex:facet name="header"><b style="font-size: 12px;">Procedure:</b> {!procData.procedure.Procedure_Name__c} - {!procData.procedure.Laterality__c} {!procData.procedure.Location__c}</apex:facet>
                            <apex:repeat value="{!procData.proSpecimen}" var="speciData">
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Specimen</apex:outputLabel>
                                    <apex:outputPanel >
                                        <apex:inputField value="{!speciData.proSpecimen.Specimen__c}" >
                                            <apex:actionSupport event="onchange"  action="{!showSpecimenOption}" rerender="specimenSectionId" status="counterStatus1">
                                                <apex:param name="procedureId" value="{!procData.procedure.Id}"/>
                                                <apex:param name="specimenNum" value="{!speciData.srno}"/>
                                            </apex:actionSupport>
                                        </apex:inputField>
                                        <apex:actionStatus id="counterStatus1" startText="loading..."/>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem rendered="{!speciData.isShowMainSecimen}">
                                    <apex:outputLabel >Specimen entirely submitted for histology?</apex:outputLabel>
                                    <apex:inputField value="{!speciData.proSpecimen.Main_Specimen_submitted_for_histology__c}" />
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem rendered="{!speciData.isShowSingleSecimen}">
                                    <apex:outputLabel >Specimen entirely submitted for histology?</apex:outputLabel>
                                    <apex:inputField value="{!speciData.proSpecimen.Single_Speciment_submitted_for_histology__c}" />
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <strong>Gross Specimen Size</strong>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Medial-lateral</apex:outputLabel>
                                    <apex:outputPanel >
                                        <apex:inputField value="{!speciData.proSpecimen.Medial_lateral_Gross_specimen_size__c}" />
                                        <apex:inputField value="{!speciData.proSpecimen.Medial_lateral_size_unit__c}" />
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Anterior-deep</apex:outputLabel>
                                    <apex:outputPanel >
                                        <apex:inputField value="{!speciData.proSpecimen.Anterior_deep_Gross_specimen_size__c}" />
                                        <apex:inputField value="{!speciData.proSpecimen.Anterior_deep_size_unit__c}" />
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Superor-inferior</apex:outputLabel>
                                    <apex:outputPanel >
                                        <apex:inputField value="{!speciData.proSpecimen.Superor_inferior_Gross_specimen_size__c}" />
                                        <apex:inputField value="{!speciData.proSpecimen.Superor_inferior_size_unit__c}" />
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <strong>Specimen Slicing</strong>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Total Slice</apex:outputLabel>
                                    <apex:inputField value="{!speciData.proSpecimen.Total_Slices__c}" />
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Slicing Method</apex:outputLabel>
                                    <apex:inputField value="{!speciData.proSpecimen.Slicing_Method__c}" />
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    Provide the block and slice numbers for the most periperal slices examined along the plane the specimen was sliced  
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:inputField value="{!speciData.proSpecimen.Slice_Plane1__c}" />
                                    <apex:outputPanel >
                                        <apex:outputLabel styleClass="labelCol" >Slice #</apex:outputLabel>
                                        <apex:inputField value="{!speciData.proSpecimen.Slice1__c}" />
                                        <apex:outputLabel styleClass="labelCol">Block #</apex:outputLabel>
                                        <apex:inputField value="{!speciData.proSpecimen.Block1__c}" />
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:inputField value="{!speciData.proSpecimen.Slice_Plane2__c}" />
                                    <apex:outputPanel >
                                        <apex:outputLabel styleClass="labelCol">Slice #</apex:outputLabel>
                                        <apex:inputField value="{!speciData.proSpecimen.Slice2__c}" />
                                        <apex:outputLabel styleClass="labelCol">Block #</apex:outputLabel>
                                        <apex:inputField value="{!speciData.proSpecimen.Block2__c}" />
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Performing Lab</apex:outputLabel>
                                    <apex:inputField value="{!speciData.proSpecimen.Lab__c}" />
                                </apex:pageBlockSectionItem>
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel >Lymph node tissue present in sample</apex:outputLabel>
                                    <apex:inputField value="{!speciData.proSpecimen.Lymph_node_tissue_present_in_sample__c}" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputPanel >
                                        <apex:commandLink action="{!addSpecimen}" value="Add another specimen" status="specimenStatus" rerender="procedureSectionId" rendered="{!speciData.isShowAddLink}" style="padding-right:10px;">
                                            <apex:param name="procedureId" value="{!procData.procedure.Id}"/>
                                        </apex:commandLink>&nbsp;
                                        <apex:commandLink action="{!removeSpecimen}" value="Remove this specimen" status="specimenStatus" rerender="procedureSectionId">
                                            <apex:param name="procedureId" value="{!procData.procedure.Id}"/>
                                            <apex:param name="serial" value="{!speciData.srno}"/>
                                        </apex:commandLink>
                                        <apex:actionStatus id="specimenStatus" startText="Processing..." onstop=""/>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                            </apex:repeat>
                        </apex:pageBlockSection>
                    </apex:repeat>
                </apex:pageBlockSection>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:tab>
    <apex:tab label="Lymph Nodes" name="lymphTab" id="tabThree" rendered="{!isComplete}" ontabenter="enterToNextTab('lymphTab');">
        <apex:pageBlock tabStyle="Account" id="lymphBlockId">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="specimensTab"/>
                </apex:commandButton>
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="histologyTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection rendered="{!IF((isLymphNodeProcedureAdded==false), true, false)}" columns="1">
                <apex:pageMessage summary="No lymph procedures were selected." severity="info" strength="3" />
            </apex:pageBlockSection>
            <apex:pageBlockSection rendered="{!isLymphNodeProcedureAdded}" columns="1" id="lymphDoneSectionId">
                <apex:pageBlockSectionItem id="lymphDoneSectionItemId">
                    <apex:outputLabel for="Lymph_node_dissection_done">Lymph node dissection done?</apex:outputLabel>
                    <apex:inputField value="{!postSurObj.Lymph_node_dissection_done__c}" id="Lymph_node_dissection_done" onclick="showLymphOption(this);"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
        
        <apex:outputPanel id="proLymphPanelId" style="display: {! IF(postSurObj.Lymph_node_dissection_done__c == 'Yes', 'block', 'none') };">
<!--        <apex:pageBlock id="proLymphBlockId" tabStyle="Account" rendered="{!(postSurObj.Lymph_node_dissection_done__c == 'Yes')}">-->
        <apex:pageBlock id="proLymphBlockId" tabStyle="Account">
                <apex:pageBlockSection title="Left Nodes" id="leftLymphSectionId" columns="1" rendered="{!showLeftLymphNodes}">
                    <apex:repeat value="{!leftLymphNodes}" var="proLymph" id="leftLympRepeat">
                        <apex:pageBlockSectionItem id="leftLymphSentinelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:inputField value="{!proLymph.Sentinel_Nodes__c}" id="leftSentinelNodes" onclick="enableInput(this,'left', 'sentinel', 0);"/>
                                <apex:outputLabel style="font-weight: bold;">Sentinel nodes:</apex:outputLabel>&nbsp;
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="leftLymphAxillaryId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:inputField value="{!proLymph.Axillary_Nodes__c}" id="leftAxillaryNodes" onclick="enableInput(this, 'left','axillary', 1);"/>
                                <apex:outputLabel style="font-weight: bold;">Axillary Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="leftLymphAdditionalId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:inputField value="{!proLymph.Additional_Nodes__c}" id="leftAdditionalNodes" onclick="enableInput(this, 'left','additional', 2);"/>
                                <apex:outputLabel style="font-weight: bold;">Additional Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="leftLocationItemId" >
                            <apex:outputLabel id="leftLocationLabelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) , '', 'none')}">Location</apex:outputLabel>
                            <apex:outputPanel id="leftLocationPanelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) , '', 'none')}">
                                <apex:inputField value="{!proLymph.Node_Checkbox_Value__c}" onclick="return false;" style="display: none;"/>
                                <apex:outputPanel id="leftLocationDropDown">
                                    <apex:inputField value="{!proLymph.Location__c}" id="location"/>
                                </apex:outputPanel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="dummyleftLocationItemId">
                            <apex:outputLabel id="dummyleftLocationLabelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" style="display: {!IF(((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', '')}">Location</apex:outputLabel>
                            <apex:outputPanel id="dummyleftLocationPanelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}"  style="display: {!IF(((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', '')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="leftNodeItemId" >
                            <apex:outputPanel ></apex:outputPanel>
                            <apex:outputPanel id="leftNodePanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Positive__c}" id="Positive" style="width: 5%" onkeyup="addTotalNode(this, 'Positive', 'left');"/>
                                <apex:outputLabel >&nbsp;/&nbsp;</apex:outputLabel>
                                <apex:inputField value="{!proLymph.Examined__c}" id="Examined" style="width: 5%" onkeyup="addTotalNode(this, 'Examined', 'left');"/>
                            </apex:outputPanel>

                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="dummyleftNodeItemId" >
                            <apex:outputPanel ></apex:outputPanel>
                            <apex:outputPanel id="dummyleftNodePanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">
                                <input type="text" style="width: 5%;" disabled="disabled"></input>
                                <apex:outputLabel >&nbsp;/&nbsp;</apex:outputLabel>
                                <input type="text" style="width: 5%;" disabled="disabled"></input>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>                        
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel />
                            <apex:outputPanel >
                                <apex:outputLabel style="font-weight: bold; padding-left: 5px; color: #4A4A56;">Positive</apex:outputLabel>
                                <apex:outputLabel style="font-weight: bold; padding-left: 14px; color: #4A4A56;">Examined</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>

                        <apex:pageBlockSectionItem id="leftDetectionItemId" rendered="{!(proLymph.Node_Checkbox_Value__c != 'Additional Nodes')}">
                            <apex:outputLabel id="leftDetectionLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'block', 'none')}">Method of detection</apex:outputLabel>
                            <apex:outputPanel id="leftDetectionPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Method_of_Detection__c}" id="Method_of_Detection" onchange="showDetectionCheckbox(this, 'left');" />&nbsp;
                                <apex:inputField value="{!proLymph.Single_Detection_Result__c}" id="Single_Detection_Result"/> Single cell(s)
                                <apex:inputField value="{!proLymph.Cluster_Detection_Result__c}" id="Cluster_Detection_Result"/> Cluster
                                <apex:inputField value="{!proLymph.Focus_Detection_Result__c}" id="Focus_Detection_Result"/> Focus
                                <apex:inputField value="{!proLymph.Not_reported_Detection_Result__c}" id="Not_reported_Detection_Result" onclick="uncheckAll(this, 'left');"/> Not reported
                                <script>uncheckAll(document.getElementById('{!$Component.Not_reported_Detection_Result}'), 'left');</script>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>

                        <apex:pageBlockSectionItem id="dummyleftDetectionItemId" rendered="{!(proLymph.Node_Checkbox_Value__c != 'Additional Nodes')}">
                            <apex:outputLabel id="dummyleftDetectionLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'none', 'block')}">Method of detection</apex:outputLabel>
                            <apex:outputPanel id="dummyleftDetectionPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'none', 'block')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                                &nbsp;
                                <input type="checkbox" disabled="disabled"/> Single cell(s)
                                <input type="checkbox" disabled="disabled"/> Cluster
                                <input type="checkbox" disabled="disabled"/> Focus
                                <input type="checkbox" disabled="disabled"/> Not reported
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="leftTumorItemId">
                            <apex:outputLabel id="leftTumorLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">Size of largest tumor deposit</apex:outputLabel>
                            <apex:outputPanel id="leftTumorPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Size_of_Largest_Tumor__c}" id="Size_of_Largest_Tumor" onchange="showSpecificLymph(this, '{!proLymph.Node_Checkbox_Value__c}', 'left');"/>&nbsp;
                                <apex:inputField value="{!proLymph.Specific_Size_of_Largest_Tumor__c}" id="Specific_Size_of_Largest_Tumor" style="display: {! IF(proLymph.Size_of_Largest_Tumor__c = 'Specify', '','none') }"/>
                                <apex:inputField value="{!proLymph.Tumor_Size_Measurement_Unit__c}" id="Tumor_Size_Measurement_Unit" style="display: {! IF(proLymph.Size_of_Largest_Tumor__c = 'Specify', '','none') }"/>
                                <script>showSpecificLymph(document.getElementById('{!$Component.Size_of_Largest_Tumor}', '{!proLymph.Node_Checkbox_Value__c}', 'left'));</script>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="dummyleftTumorItemId" >
                            <apex:outputLabel id="dummyleftTumorLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">Size of largest tumor deposit</apex:outputLabel>
                            <apex:outputPanel id="dummyleftTumorPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                                &nbsp;
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="leftExtramodalItemId">
                            <apex:outputLabel id="leftExtramodalExtensionLabel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">Extramodal Extension</apex:outputLabel>
                            <apex:outputPanel id="leftExtramodalExtensionPanel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Extramodal_Extension__c}" id="Extramodal_Extension"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>

                        <apex:pageBlockSectionItem id="dummyleftExtramodalItemId">
                            <apex:outputLabel id="dummyleftExtramodalExtensionLabel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">Extramodal Extension</apex:outputLabel>
                            <apex:outputPanel id="dummyleftExtramodalExtensionPanel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >&nbsp;</apex:pageBlockSectionItem>
                        <apex:outputPanel rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes'), true, false)}" >
                            <script>
                            //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightDetectionItemId:Method_of_Detection
                                enableInput(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:0:leftLymphSentinelId:leftSentinelNodes'), 'left', 'sentinel', 0);
                                showDetectionCheckbox(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:0:leftDetectionItemId:Method_of_Detection', 'left'));
                            </script>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), true, false)}">
                            <script>
                            //pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:1:leftLymphAxillaryId:leftAxillaryNodes
                                enableInput(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:1:leftLymphAxillaryId:leftAxillaryNodes'), 'left', 'axillary', 1);
                                showDetectionCheckbox(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:1:leftDetectionItemId:Method_of_Detection', 'left'));
                            </script>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), true, false)}">
                            <script>
                            //pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:2:leftLymphAdditionalId:leftAdditionalNodes
                            enableInput(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:2:leftLymphAdditionalId:leftAdditionalNodes'), 'left', 'additional', 2);</script>
                        </apex:outputPanel>
                        <script>
                            addTotalNode(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:0:leftNodeItemId:Positive'), 'Positive', 'left');
                            addTotalNode(document.getElementById('pageId:formId:proLymphBlockId:leftLymphSectionId:leftLympRepeat:0:leftNodeItemId:Examined'), 'Examined', 'left');
                        </script>
                    </apex:repeat>
                     <apex:pageBlockSectionItem id="leftTotalItemId">
                        <apex:outputPanel id="leftTotalPanelId">
                            <table>
                                <tr>
                                    <td rowspan="2"><apex:outputLabel >Total Nodes: </apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel id="leftTotalPositiveLabel">0</apex:outputLabel></td>
                                    <td><apex:outputLabel >/</apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel id="leftTotalExaminedLabel">0</apex:outputLabel></td>
                                </tr>
                                <tr>
                                    <td><apex:outputLabel >Positive</apex:outputLabel></td>
                                    <td>&nbsp;</td>
                                    <td><apex:outputLabel >Examined</apex:outputLabel></td>
                                </tr>
                            </table>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
                
                
                <apex:pageBlockSection title="Right Node" id="rightLymphSectionId" columns="1" rendered="{!showRightLymphNodes}">
                    <apex:repeat value="{!rightLymphNodes}" var="proLymph" id="rightLympRepeat">
                        <apex:pageBlockSectionItem id="rightLymphSentinelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:inputField value="{!proLymph.Sentinel_Nodes__c}" id="rightSentinelNodes" onclick="enableInput(this,'right', 'sentinel', 0);"/>
                                <apex:outputLabel style="font-weight: bold;">Sentinel nodes:</apex:outputLabel>&nbsp;
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="rightLymphAxillaryId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:inputField value="{!proLymph.Axillary_Nodes__c}" id="rightAxillaryNodes" onclick="enableInput(this, 'right','axillary', 1);"/>
                                <apex:outputLabel style="font-weight: bold;">Axillary Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="rightLymphAdditionalId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:inputField value="{!proLymph.Additional_Nodes__c}" id="rightAdditionalNodes" onclick="enableInput(this, 'right','additional', 2);"/>
                                <apex:outputLabel style="font-weight: bold;">Additional Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="rightLocationItemId" >
                            <apex:outputLabel id="rightLocationLabelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) , '', 'none')}">Location</apex:outputLabel>
                            <apex:outputPanel id="rightLocationPanelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) , '', 'none')}">
                                <apex:inputField value="{!proLymph.Node_Checkbox_Value__c}" style="display: none;"/>
                                <apex:outputPanel id="rightLocationDropDown">
                                    <apex:inputField value="{!proLymph.Location__c}" id="location"/>
                                </apex:outputPanel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="dummyrightLocationItemId" >
                            <apex:outputLabel id="dummyrightLocationLabelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" style="display: {!IF(((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', '')}">Location</apex:outputLabel>
                            <apex:outputPanel id="dummyrightLocationPanelId" rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}"  style="display: {!IF(((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', '')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="rightNodeItemId" >
                            <apex:outputPanel ></apex:outputPanel>
                            <apex:outputPanel id="rightNodePanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Positive__c}" id="Positive" style="width: 5%" onkeyup="addTotalNode(this, 'Positive', 'right');"/>
                                <apex:outputLabel >&nbsp;/&nbsp;</apex:outputLabel>
                                <apex:inputField value="{!proLymph.Examined__c}" id="Examined" style="width: 5%" onkeyup="addTotalNode(this, 'Examined', 'right');"/>
                            </apex:outputPanel>

                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="dummyrightNodeItemId" >
                            <apex:outputPanel ></apex:outputPanel>
                            <apex:outputPanel id="dummyrightNodePanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">
                                <input type="text" style="width: 5%;" disabled="disabled"></input>
                                <apex:outputLabel >&nbsp;/&nbsp;</apex:outputLabel>
                                <input type="text" style="width: 5%;" disabled="disabled"></input>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>                        
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel />
                            <apex:outputPanel >
                                <apex:outputLabel style="font-weight: bold; padding-left: 5px; color: #4A4A56;">Positive</apex:outputLabel>
                                <apex:outputLabel style="font-weight: bold; padding-left: 14px; color: #4A4A56;">Examined</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>

                        <apex:pageBlockSectionItem id="rightDetectionItemId" rendered="{!(proLymph.Node_Checkbox_Value__c != 'Additional Nodes')}">
                            <apex:outputLabel id="rightDetectionLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'block', 'none')}">Method of detection</apex:outputLabel>
                            <apex:outputPanel id="rightDetectionPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Method_of_Detection__c}" id="Method_of_Detection" onchange="showDetectionCheckbox(this, 'right');" />&nbsp;
                                <apex:inputField value="{!proLymph.Single_Detection_Result__c}" id="Single_Detection_Result"/> Single cell(s)
                                <apex:inputField value="{!proLymph.Cluster_Detection_Result__c}" id="Cluster_Detection_Result"/> Cluster
                                <apex:inputField value="{!proLymph.Focus_Detection_Result__c}" id="Focus_Detection_Result"/> Focus
                                <apex:inputField value="{!proLymph.Not_reported_Detection_Result__c}" id="Not_reported_Detection_Result" onclick="uncheckAll(this, 'right');"/> Not reported
                                <script>uncheckAll(document.getElementById('{!$Component.Not_reported_Detection_Result}'), 'right');</script>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>

                        <apex:pageBlockSectionItem id="dummyrightDetectionItemId" rendered="{!(proLymph.Node_Checkbox_Value__c != 'Additional Nodes')}">
                            <apex:outputLabel id="dummyrightDetectionLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'none', 'block')}">Method of detection</apex:outputLabel>
                            <apex:outputPanel id="dummyrightDetectionPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)), 'none', 'block')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                                &nbsp;
                                <input type="checkbox" disabled="disabled"/> Single cell(s)
                                <input type="checkbox" disabled="disabled"/> Cluster
                                <input type="checkbox" disabled="disabled"/> Focus
                                <input type="checkbox" disabled="disabled"/> Not reported
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="rightTumorItemId" >
                            <apex:outputLabel id="rightTumorLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">Size of largest tumor deposit</apex:outputLabel>
                            <apex:outputPanel id="rightTumorPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Size_of_Largest_Tumor__c}" id="Size_of_Largest_Tumor" onchange="showSpecificLymph(this, '{!proLymph.Node_Checkbox_Value__c}', 'right');"/>&nbsp;
                                <apex:inputField value="{!proLymph.Specific_Size_of_Largest_Tumor__c}" id="Specific_Size_of_Largest_Tumor" style="display: {! IF(proLymph.Size_of_Largest_Tumor__c = 'Specify', '','none') }"/>
                                <apex:inputField value="{!proLymph.Tumor_Size_Measurement_Unit__c}" id="Tumor_Size_Measurement_Unit" style="display: {! IF(proLymph.Size_of_Largest_Tumor__c = 'Specify', '','none') }"/>
                                <script>showSpecificLymph(document.getElementById('{!$Component.Size_of_Largest_Tumor}', '{!proLymph.Node_Checkbox_Value__c}', 'right'));</script>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem id="dummyrightTumorItemId" >
                            <apex:outputLabel id="dummyrightTumorLabelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">Size of largest tumor deposit</apex:outputLabel>
                            <apex:outputPanel id="dummyrightTumorPanelId" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                                &nbsp;
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem id="rightExtramodalItemId">
                            <apex:outputLabel id="rightExtramodalExtensionLabel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">Extramodal Extension</apex:outputLabel>
                            <apex:outputPanel id="rightExtramodalExtensionPanel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'block', 'none')}">
                                <apex:inputField value="{!proLymph.Extramodal_Extension__c}" id="Extramodal_Extension"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>

                        <apex:pageBlockSectionItem id="dummyrightExtramodalItemId">
                            <apex:outputLabel id="dummyrightExtramodalExtensionLabel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">Extramodal Extension</apex:outputLabel>
                            <apex:outputPanel id="dummyrightExtramodalExtensionPanel" style="display: {! IF(((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes') && (proLymph.Axillary_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes') && (proLymph.Sentinel_Nodes__c)) || ((proLymph.Node_Checkbox_Value__c == 'Additional Nodes') && (proLymph.Additional_Nodes__c)), 'none', 'block')}">
                                <select disabled="disabled">
                                    <option value="">--None--</option>
                                </select>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >&nbsp;</apex:pageBlockSectionItem>
                    <apex:outputPanel rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes'), true, false)}" >
                            <script>
                            //pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightDetectionItemId:Method_of_Detection
                                enableInput(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightLymphSentinelId:rightSentinelNodes'), 'right', 'sentinel', 0);
                                showDetectionCheckbox(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightDetectionItemId:Method_of_Detection', 'right'));
                            </script>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), true, false)}">
                            <script>
                                enableInput(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:1:rightLymphAxillaryId:rightAxillaryNodes'), 'right', 'axillary', 1);
                                showDetectionCheckbox(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:1:rightDetectionItemId:Method_of_Detection', 'right'));
                            </script>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), true, false)}">
                            <script>enableInput(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:2:rightLymphAdditionalId:rightAdditionalNodes'), 'right', 'additional', 2);</script>
                        </apex:outputPanel>
                        <script>
                            addTotalNode(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightNodeItemId:Positive'), 'Positive', 'right');
                            addTotalNode(document.getElementById('pageId:formId:proLymphBlockId:rightLymphSectionId:rightLympRepeat:0:rightNodeItemId:Examined'), 'Examined', 'right');
                        </script>
                    </apex:repeat>
                    <apex:pageBlockSectionItem id="rightTotalItemId">
                        <apex:outputPanel id="rightTotalPanelId">
                            <table>
                                <tr>
                                    <td rowspan="2"><apex:outputLabel >Total Nodes: </apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel id="rightTotalPositiveLabel">0</apex:outputLabel></td>
                                    <td><apex:outputLabel >/</apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel id="rightTotalExaminedLabel">0</apex:outputLabel></td>
                                </tr>
                                <tr>
                                    <td><apex:outputLabel >Positive</apex:outputLabel></td>
                                    <td>&nbsp;</td>
                                    <td><apex:outputLabel >Examined</apex:outputLabel></td>
                                </tr>
                            </table>
                            </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
        </apex:pageBlock>
        </apex:outputPanel>
    </apex:tab>
    <apex:tab label="Histology" name="histologyTab" id="tabFour" rendered="{!isComplete}" ontabenter="enterToNextTab('histologyTab');">
        <apex:inputHidden value="{!isCalci}" id="isCalci"/>
        <apex:inputHidden value="{!isCalciPickList}" id="isCalciPickList"/>
        <apex:inputHidden value="{!isDCIS}" id="isDCIS"/>
        <apex:inputHidden value="{!isLCIS}" id="isLCIS"/>
        <apex:inputHidden value="{!isInasive}" id="isInasive"/>
        
        <apex:pageBlock tabStyle="Account">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="lymphTab"/>
                </apex:commandButton>
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="marginTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
        </apex:pageBlock>
    <b>Procedure(s): </b><apex:outputText value="{!histologySectionTitle}"/>
        <apex:tabPanel switchType="client" selectedTab="Calcification" id="innerTabPanel" tabClass="activeTab" inactiveTabClass="inactiveTab" activeTabClass="activeTab" contentStyle="font-size: 12px;">
            <apex:tab label="Calcification" name="Calcification" id="tabOneCalcification" >
                    <apex:pageBlock id="pageBlockCalcification" tabStyle="Account">
                        <apex:pageBlockSection id="pageBlockSectionIdCalci" columns="1">
                            <apex:pageBlockSectionItem id="SectionCalciId">
                                <apex:outputLabel value="Are Calcifications present?" />
                                <apex:inputField value="{!postSurObj.Are_Calcifications_Present__c}" onChange="showCalciPost(this);" id="CalciDropdown"/>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                    <apex:outputPanel id="panelCalciDetailId" style="display:none;">
                    <apex:pageBlock id="pageBlockCalciDetailId" tabStyle="Account">
                        <apex:pageBlockSection id="pageBlockSectionCalciDetail" columns="1">
                            <apex:pageBlockSectionItem id="SectionCalciDetailId">
                                <apex:outputLabel value="Calcifications Details" />
                                <apex:inputField value="{!postSurObj.Calcification_Details__c}" id="CalciDetail" onChange="showCalciDetail(this);"/>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                    </apex:outputPanel>
                    <script>
                        showCalciPost(document.getElementById('pageId:formId:pageBlockCalcification:pageBlockSectionIdCalci:SectionCalciId:CalciDropdown'));
                        showCalciDetail(document.getElementById('pageId:formId:pageBlockCalciDetailId:pageBlockSectionCalciDetail:SectionCalciDetailId:CalciDetail_unselected'));
                    </script>
            </apex:tab>
            <apex:tab label="DCIS" name="DCIS" id="tabTwoDCIS" >
                    <apex:pageBlock id="pageBlockDCIS" tabStyle="Account">
                        <apex:pageBlockSection id="pageBlockSectionIdDSIC">
                            <apex:pageBlockSectionItem id="pageBlockesctionId">
                                <apex:outputLabel value="Is DCIS present?" />
                                <apex:inputField value="{!postSurObj.Is_DCIS_Present__c}" onChange="showDCISPost(this);" id="DCISDropdown"/>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                    <script>
                        showDCISPost(document.getElementById('pageId:formId:pageBlockDCIS:pageBlockSectionIdDSIC:pageBlockesctionId:DCISDropdown'));
                    </script>
                <apex:outputPanel id="DCISOutputPanel" style="display : none;">
                    <apex:pageBlock title="Procedure(s): DCIS Details" id="DCISPageBlock" tabStyle="Account">
                        <apex:pageBlockSection columns="1" id="DCISPageBlockSection">
                            <c:DCIS pageController="{!this}" key="dcis" subFormNew="Post Surgery Summary" id="DCISComponent"/>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                </apex:outputPanel>                     
            </apex:tab>
            <apex:tab label="LCIS" name="LCIS" id="tabTwoLCIS" >
                    <apex:pageBlock id="LCISPageBlock" tabStyle="Account">
                        <apex:pageBlockSection id="LCISPageBlockSection">
                            <apex:pageBlockSectionItem id="LCISPageBlockSectionItem">
                                <apex:outputLabel value="Is LCIS present?" />
                                <apex:inputField value="{!postSurObj.Is_LCIS_Present__c}" onChange="showLCIS(this);" id="LCISDropDown"/>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                    <script>
                        showLCIS(document.getElementById('pageId:formId:LCISPageBlock:LCISPageBlockSection:LCISPageBlockSectionItem:LCISDropDown'));
                    </script>
                <apex:outputPanel id="LCISOutputPanel" style="display : none;" >
                    <apex:pageBlock title="Procedure(s): LCIS Details" id="LCISPageBlockId" tabStyle="Account">
                        <apex:pageBlockSection columns="1" id="LCISOutputPanelSection">
                            <c:LCIS pageController="{!this}" key="lcis" subFormLCIS="Post Surgery Summary" id="LCISComponent"/>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                </apex:outputPanel>
            </apex:tab>
            <apex:tab label="Invasive Tumor" name="Invasive Tumor" id="tabTwoIT" >
                    <apex:pageBlock id="invasivePageBlock" tabStyle="Account">
                        <apex:pageBlockSection id="invasivePageBlockSection">
                            <apex:pageBlockSectionItem id="invasivePageBlockSectionItem">
                                <apex:outputLabel value="Is invasive tumor present?" />
                                <apex:inputField value="{!postSurObj.Is_invasive_tumor_present__c}" onChange="showITP(this);" id="invasiveDropDown"/>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                    <script>
                        showITP(document.getElementById('pageId:formId:invasivePageBlock:invasivePageBlockSection:invasivePageBlockSectionItem:invasiveDropDown'));
                        Cal_PointsAndGrade();
                    </script>
                <apex:outputPanel id="InvasiveTumorPanel" style="display : none;">
                    <apex:pageBlock title="Invasive Tumor Details" id="InvasiveTumorBlock" tabStyle="Account">
                        <apex:pageBlockSection columns="1" id="InvasiveTumorSection">
                            <c:InvasiveTumor pageController="{!this}" key="ivt" subFormIT="Post Surgery Summary" id="InvasiveTumorComponent"/>
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                </apex:outputPanel>
            </apex:tab>
        </apex:tabPanel>
    </apex:tab>
    <apex:tab label="Margins" name="marginTab" id="tabFive" rendered="{!isComplete}" ontabenter="enterToNextTab('marginTab');">
        <apex:pageBlock id="marginBlockId" tabStyle="Account">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="histologyTab"/>
                </apex:commandButton>
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="receptorTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection title="Separately Submitted Margins" columns="1" id="marginSectionId">
                <apex:pageBlockSectionItem labelStyle="width:30%" id="submittedMarginItem">
                    <apex:outputLabel value="Separately Submitted Margins" />
                    <apex:inputField value="{!postSurObj.separately_submitted_margins__c}" id="submittedMarginId" onchange="showInvasiveSitu(this);"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem labelStyle="width:30%" id="invasiveCAItem">
                    <apex:outputLabel id="invasiveCALabel" value="Invasive CA in any of the separately submitted margins?" />
                    <apex:inputField value="{!postSurObj.Invasive_CA_present__c}" id="invasiveCAId"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem labelStyle="width:30%" id="invasiveCATrueItem">
                    <apex:outputLabel id="invasiveCATrueLabel" value="If invasive CA is present, is it at the true margin?" />
                    <apex:inputField value="{!postSurObj.Invasive_CA_at_true_margin__c}" id="invasiveCATrueId"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem labelStyle="width:30%" id="situItem">
                    <apex:outputLabel id="situLabel" value="In Situ disease in any of the separately submitted margins?" />
                    <apex:inputField value="{!postSurObj.In_Situ_Disease_Present__c}" id="situId"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem labelStyle="width:30%" id="situTrueItem">
                    <apex:outputLabel id="situTrueLabel" value="If in situ disease present, is it at the true margin?" />
                    <apex:inputField value="{!postSurObj.In_Situ_Disease_At_True_Margin__c}" id="situTrueId"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem labelStyle="width:30%">
                    <apex:outputLabel value="Other Changes Present?" />
                    <apex:inputField value="{!postSurObj.Other_Changes_Present__c}" id="otherPresentId"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem labelStyle="width:30%" id="otherChangesSectionId">
                    <apex:outputLabel value="" />
                    <apex:outputPanel id="OtherDropDownId">
                        <apex:inputField value="{!postSurObj.Other_Changes__c}" id="otherChangesId" onchange="showMarginOther();"/><br/>
                        <apex:inputField value="{!postSurObj.Other_Change__c}" id="otherChangeId" style="display: none;"/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
        <script>
            showInvasiveSitu(document.getElementById('pageId:formId:marginBlockId:marginSectionId:submittedMarginItem:submittedMarginId'));
        </script>
    </apex:tab>
    <apex:tab label="Receptors" name="receptorTab" id="tabSix" rendered="{!isComplete}" ontabenter="enterToNextTab('receptorTab');">
<!--            <apex:actionFunction name="next_recep" action="{!next}" reRender="theTabPanel" status="splashStatus">-->
<!--                <apex:param name="nextTab" value="stagingTab"/>-->
<!--            </apex:actionFunction>--> 
            <apex:pageBlock tabStyle="Account" id="receptorPageBlock">
                <apex:pageBlockButtons location="top" id="receptorPageButton">
                    <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                        <apex:param name="prevTab" value="marginTab"/>
                    </apex:commandButton>
<!--                    <apex:commandButton value="Next" onclick="call_Receptors({!isReceptorLeftLaterlity}, {!isReceptorRightLaterlity});" oncomplete="call_next();" status="splashStatus">-->
                    <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                        <apex:param name="nextTab" value="stagingTab"/>
                    </apex:commandButton>
<!--                    <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                    <apex:actionStatus id="counterStatus" startText="Processing..." onstop="receptorShowStatus();"/>
                 </apex:pageBlockButtons>
            </apex:pageBlock>
    <apex:outputPanel rendered="{!isReceptorLeftLaterlity}">
        <b>Receptors(s):</b><apex:outputText value="Left"/>
        <apex:outputPanel >
            <apex:pageBlock id="ReceptorsBlockLeft" tabStyle="Account">
<!--                <script>alert('{!postSurObj.Id}');</script>-->
                <c:Receptors pageController="{!this}" key="rcpt" id="ReceptorsCompLeft" recId="{!postSurObj.Id}" subFormReceptors="Post Surgery Summary" subFormLaterlity="left"/>
            </apex:pageBlock>
        </apex:outputPanel>
        <script>
            Cal_ERPRTotalScore('left');
        </script>
    </apex:outputPanel>
    <apex:outputPanel rendered="{!isReceptorRightLaterlity}">
        <b>Receptors(s):</b><apex:outputText value="Right"/>
        <apex:outputPanel >
            <apex:pageBlock id="ReceptorsBlockRight" tabStyle="Account">
                <c:Receptors pageController="{!this}" key="rcptRight" id="ReceptorsCompRight" recId="{!postSurObj.Id}" subFormReceptors="Post Surgery Summary" subFormLaterlity="right"/>
            </apex:pageBlock>
        </apex:outputPanel>
        <script>
            Cal_ERPRTotalScore('right');
        </script>
    </apex:outputPanel>
    </apex:tab>
    <apex:tab label="Staging" name="stagingTab" id="tabSeven" rendered="{!isComplete}" ontabenter="enterToNextTab('stagingTab');">
            <!--<apex:actionFunction name="nextStage" action="{!next}" reRender="theTabPanel" status="counterStatus">
                <apex:param name="nextTab" value="rcbTab"/>
            </apex:actionFunction>
        --><apex:pageBlock tabStyle="Account" id="stagingPageBlock">
            <apex:pageBlockButtons location="top" id="stagingPageButton">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="receptorTab"/>
                </apex:commandButton>
<!--                <apex:commandButton value="Next" reRender="theTabPanel" onclick="call_Stage({!isReceptorLeftLaterlity}, {!isReceptorRightLaterlity});" oncomplete="call_nextStage();" status="counterStatus">-->
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="rcbTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." />
            </apex:pageBlockButtons>
        </apex:pageBlock>
        <apex:outputPanel id="stagePanelLeft" rendered="{!isReceptorLeftLaterlity}">
            <b>Staging: </b><apex:outputText value="Left Breast"/>
<!--            <c:StagingComponent id="stageComponentLeft" subFormLaterlity="left" recId="{!postSurObj.Id}"/>-->
            <c:StagingComponent pageController="{!this}" key="stag" id="stageComponentLeft" subFormLaterlity="left" />
        </apex:outputPanel>
        
        <apex:outputPanel id="stagePanelRight" rendered="{!isReceptorRightLaterlity}">
            <b>Staging: </b><apex:outputText value="Right Breast"/>
<!--            <c:StagingComponent id="stageComponentRight" subFormLaterlity="right" recId="{!postSurObj.Id}"/>-->
            <c:StagingComponent pageController="{!this}" key="stagRight" id="stageComponentRight" subFormLaterlity="right" />
        </apex:outputPanel>
    </apex:tab>
    <apex:tab label="RCB" name="rcbTab" id="tabEight" rendered="{!isComplete}" ontabenter="enterToNextTab('rcbTab');">
        <apex:pageBlock tabStyle="Account">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="stagingTab"/>
                </apex:commandButton>
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
<!--                    <apex:param name="nextTab" value="commentTab"/>-->
                        <apex:param name="nextTab" value="attachmentTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection columns="1">
                <apex:pageBlockSectionItem labelStyle="width: 24%;">
                    <apex:outputLabel value="Check if patient has a pathologic complete response" for="pcr"/>
                    <apex:inputField value="{!postSurObj.pcr__c}" id="pcr"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Residual tumor burden calculations" columns="1">
                <apex:outputLabel value="Please include any additional information which may affect the residual cancer burden calculation (ie, and axillary lymph node dissection or re-excision of positive margins done at a later time from the primary procedure). Include the following information for the additional procedure(s) performed:"/>
                <apex:pageBlockSection title="{!rcbAllDateProcedure}" columns="1">
                    <apex:pageBlockSection title="Adjusted values(if any) for the following RCB measurement variables:" columns="1">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Primary Tumor Bed Area" />
<!--                            <apex:outputField value="{!postSurObj.Primary_Tumor_Bed_Area__c}" />-->
                            <apex:outputText value="{!areaBedTumorStr}" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Overall Center Cellularity" />
                            <apex:outputField value="{!postSurObj.RCB_Overall_Center_Cellularity__c}" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="% of CA in Situ Disease" />
                            <apex:outputField value="{!postSurObj.percentage_of_CA_in_Situ_Disease__c}" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="# of lymph nodes positive" />
<!--                            <apex:outputField value="{!postSurObj.Number_of_lymph_nodes_positive__c}" />-->
                            <apex:outputText value="{!TotalPositiveNodesStr}" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Diameter of largest met" />
<!--                            <apex:outputField value="{!postSurObj.Diameter_of_largest_met__c}" />-->
                            <apex:outputText value="{!LargestMetSizeStr}" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="RCB index" />
                            <apex:outputField value="{!postSurObj.RCB_index__c}" />
                        </apex:pageBlockSectionItem>
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="RCB Class" />
                            <apex:outputField value="{!postSurObj.RCB_Class__c}" />
                        </apex:pageBlockSectionItem>
                        
                    </apex:pageBlockSection>
                </apex:pageBlockSection>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:tab>
    <apex:tab label="Comments/Attachments" name="attachmentTab" id="attachmentTabId" rendered="{!isComplete}" ontabenter="enterToNextTab('attachmentTab');">
        <apex:pageBlock tabStyle="Account">
            <apex:pageBlockButtons location="top">
                <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="prevTab" value="rcbTab"/>
                </apex:commandButton>
                <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel" status="splashStatus">
                    <apex:param name="nextTab" value="CompleteTab"/>
                </apex:commandButton>
<!--                <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
            </apex:pageBlockButtons>
            <apex:pageMessage summary="Please redact all PHI information from attachments." severity="info" strength="3"/>
            <apex:pageBlockSection columns="1">
<!--                <chatter:feedWithFollowers entityId="{!postSurObj.Id}" />-->
                <apex:iframe src="/apex/ChatterPage?recId={!postSurObj.Id}" scrolling="true" id="theIframe"/>
                <c:CRFAttachmentComponent rId="{!postSurObj.Id}" feedCRFName="Post_Surgaory_Summary__Feed" rtId="{!postSurObj.Root_CRF_Id__c}"/>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:tab>
    <apex:tab label="Complete" name="CompleteTab" id="completeId" ontabenter="enterToNextTab('CompleteTab');">
        <apex:pageBlock tabStyle="Account">
<!--  
      ================================================================================================================================================
      =====================================================Procedure Section==============================================================================
      ======================================================================================================================================================
-->     
            <!--<apex:actionFunction name="editCRF" action="{!editCRF}" rerender="theTabPanel" status="processStatus"/>
            <apex:outputPanel id="dummayPanel">
                <script>
                    //alert("{!openInEditMode}");
                    if("{!openInEditMode}" == "true") {
                        editCRF(); 
                    }
                </script>
            </apex:outputPanel>-->
            <apex:outputPanel rendered="{!IF($Profile.Name == 'Custom Read Only User' || $Profile.Name == 'Trial Administrator', false, true)}">
                <apex:pageBlock tabStyle="Account">
                    <apex:pageBlockButtons location="top">
                        <apex:commandButton action="{!editCRF}" value=" Edit " reRender="formId" status="processStatus" rendered="{!IF(AND(postSurObj.Status__c == 'Rejected', isShowEditButton),true,false)}"/>
                        <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel" status="splashStatus" rendered="{!isComplete}">
                              <apex:param name="prevTab" value="attachmentTab"/>
                       </apex:commandButton>
                        <apex:actionStatus id="tabChangeStatus" startText="Processing..."/>
                        <apex:actionStatus id="processStatus" startText="Processing..."/>
                    </apex:pageBlockButtons>
                </apex:pageBlock>
             </apex:outputPanel>
           <apex:outputPanel >  
                <apex:pageBlockSection >
                    <apex:outputField value="{!postSurObj.Date_Of_Procedure__c}"/>
                    <apex:outputText value="{!postSurObj.Surgeon__r.Name}" label="Surgeon" id="surgeonId"/>
                </apex:pageBlockSection>
           </apex:outputPanel>  
           
<!--        
      ================================================================================================================================================
      =====================================================Specimens Section==============================================================================
      ======================================================================================================================================================
-->
        <apex:pageBlockSection columns="1">
           <apex:repeat value="{!wrapProcedureList}" var="procData">
               <apex:pageBlockSection columns="1" >
                   <apex:facet name="header"><b style="font-size: 12px;">Procedure:</b> {!procData.procedure.Procedure_Name__c} - {!procData.procedure.Laterality__c} {!procData.procedure.Location__c}</apex:facet>
                   <apex:repeat value="{!procData.proSpecimen}" var="speciData">
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Specimen</apex:outputLabel>
                           <apex:outputField value="{!speciData.proSpecimen.Specimen__c}" />
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem rendered="{!speciData.isShowMainSecimen}">
                           <apex:outputLabel >Specimen entirely submitted for histology?</apex:outputLabel>
                           <apex:outputField value="{!speciData.proSpecimen.Main_Specimen_submitted_for_histology__c}" />
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem rendered="{!speciData.isShowSingleSecimen}">
                           <apex:outputLabel >Specimen entirely submitted for histology?</apex:outputLabel>
                           <apex:outputField value="{!speciData.proSpecimen.Single_Speciment_submitted_for_histology__c}" />
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <strong>Gross Specimen Size</strong>
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Medial-lateral</apex:outputLabel>
                           <apex:outputPanel >
                               <apex:outputField value="{!speciData.proSpecimen.Medial_lateral_Gross_specimen_size__c}" />
                               <apex:outputField value="{!speciData.proSpecimen.Medial_lateral_size_unit__c}" />
                           </apex:outputPanel>
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Anterior-deep</apex:outputLabel>
                           <apex:outputPanel >
                               <apex:outputField value="{!speciData.proSpecimen.Anterior_deep_Gross_specimen_size__c}" />
                               <apex:outputField value="{!speciData.proSpecimen.Anterior_deep_size_unit__c}" />
                           </apex:outputPanel>
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Superor-inferior</apex:outputLabel>
                           <apex:outputPanel >
                               <apex:outputField value="{!speciData.proSpecimen.Superor_inferior_Gross_specimen_size__c}" />
                               <apex:outputField value="{!speciData.proSpecimen.Superor_inferior_size_unit__c}" />
                           </apex:outputPanel>
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <strong>Specimen Slicing</strong>
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Total Slice</apex:outputLabel>
                           <apex:outputField value="{!speciData.proSpecimen.Total_Slices__c}" />
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Slicing Method</apex:outputLabel>
                           <apex:outputField value="{!speciData.proSpecimen.Slicing_Method__c}" />
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <strong>Most periperal slices</strong>  
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputField value="{!speciData.proSpecimen.Slice_Plane1__c}" />
                           <apex:outputPanel >
                               <apex:outputLabel styleClass="labelCol" >Slice </apex:outputLabel>
                               <apex:outputField value="{!speciData.proSpecimen.Slice1__c}" />&nbsp;
                               <apex:outputLabel styleClass="labelCol">Block </apex:outputLabel>
                               <apex:outputField value="{!speciData.proSpecimen.Block1__c}" />
                           </apex:outputPanel>
                       </apex:pageBlockSectionItem>
                       
                       <apex:pageBlockSectionItem >
                           <apex:outputField value="{!speciData.proSpecimen.Slice_Plane2__c}" />
                           <apex:outputPanel >
                               <apex:outputLabel styleClass="labelCol">Slice </apex:outputLabel>
                               <apex:outputField value="{!speciData.proSpecimen.Slice2__c}" />
                               <apex:outputLabel styleClass="labelCol">Block </apex:outputLabel>
                               <apex:outputField value="{!speciData.proSpecimen.Block2__c}" />
                           </apex:outputPanel>
                       </apex:pageBlockSectionItem>
                     <apex:outputPanel >
                           <apex:pageBlockSection >
<!--                               <apex:outputLabel >Performing Lab</apex:outputLabel>-->
                               <apex:outputText value="{!speciData.proSpecimen.Lab__r.Name}" label="Performing Lab"/>
                           </apex:pageBlockSection>
                     </apex:outputPanel>
                       <apex:pageBlockSectionItem >
                           <apex:outputLabel >Lymph node tissue present in sample</apex:outputLabel>
                           <apex:outputField value="{!speciData.proSpecimen.Lymph_node_tissue_present_in_sample__c}" />
                       </apex:pageBlockSectionItem>
                   </apex:repeat>
               </apex:pageBlockSection>
           </apex:repeat>
       </apex:pageBlockSection>
       
       <apex:pageBlockSection title="Gross Pathology" columns="1">
            <apex:pageBlockSectionItem >
                <apex:outputLabel >{!postSurObj.Type_Of_Tumor__c}</apex:outputLabel>
                <apex:outputPanel >
                    <apex:outputPanel rendered="{!IF((postSurObj.Type_Of_Tumor__c = 'Single Discrete Mass'), true, false)}">
                         <apex:outputLabel >Size of gross mass</apex:outputLabel>
                        <apex:outputField value="{!postSurObj.Size_of_Gross_Mass_Width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:outputField value="{!postSurObj.Size_of_Gross_Mass_Height__c}" />
                        <apex:outputField value="{!postSurObj.Gross_Mass_Measurement_Unit__c}" />
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!IF((postSurObj.Type_Of_Tumor__c = 'Multifocal Discrete Masses'), true, false)}">
                        <apex:outputLabel >Size of largest gross mass</apex:outputLabel>
                        <apex:outputField value="{!postSurObj.Size_of_Largest_Gross_Mass_Width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:outputField value="{!postSurObj.Size_of_Largest_Gross_Mass_Height__c}" />
                        <apex:outputField value="{!postSurObj.Largest_Gross_Mass_Measurement_Unit__c}" />
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!IF((postSurObj.Type_Of_Tumor__c = 'Multifocal Discrete Masses'), true, false)}">
                        <apex:outputLabel >;&nbsp;Total span multifocal gross masses</apex:outputLabel>
                        <apex:outputField value="{!postSurObj.Total_span_multifocal_gross_mass_width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:outputField value="{!postSurObj.Total_span_multifocal_gross_mass_height__c}" />
                        <apex:outputField value="{!postSurObj.Total_Span_Measurement_Unit__c}" />
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!IF((postSurObj.Type_Of_Tumor__c = 'Gross Stromal Alterations/Fibrosis'), true, false)}">
                        <apex:outputLabel >Span of gross changes</apex:outputLabel>
                        <apex:outputField value="{!postSurObj.Span_of_gross_changes_width__c}" /><b>&nbsp;X&nbsp;</b>
                        <apex:outputField value="{!postSurObj.Span_of_gross_changes_height__c}" />
                        <apex:outputField value="{!postSurObj.Gross_Changes_Measurement_Unit__c}" />
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
       </apex:pageBlockSection>
<!--  
      ================================================================================================================================================
      =====================================================Lymph Nodes Section==============================================================================
      ======================================================================================================================================================
-->
       <apex:pageBlockSection title="Lymph Nodes" columns="1">
            <apex:pageBlockSectionItem >
                <apex:outputLabel >Lymph node dissection done?</apex:outputLabel>
                <apex:outputField value="{!postSurObj.Lymph_node_dissection_done__c}"/>
            </apex:pageBlockSectionItem>
       </apex:pageBlockSection>
       <apex:pageBlockSection columns="1">
               <apex:pageBlockSection title="Left Nodes" columns="1" rendered="{!showLeftLymphNodes}">
                    <apex:repeat value="{!leftLymphNodes}" var="proLymph" >
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Sentinel_Nodes__c}" />
                                <apex:outputLabel style="font-weight: bold;">Sentinel nodes:</apex:outputLabel>&nbsp;
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Axillary_Nodes__c}" />
                                <apex:outputLabel style="font-weight: bold;">Axillary Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Additional_Nodes__c}" />
                                <apex:outputLabel style="font-weight: bold;">Additional Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" >
                            <apex:outputLabel >Location</apex:outputLabel>
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Node_Checkbox_Value__c}"/>
                                <apex:outputField value="{!proLymph.Location__c}"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Positive Nodes </apex:outputLabel>
                            <apex:outputField value="{!proLymph.Positive__c}" />
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Examined Nodes </apex:outputLabel>
                            <apex:outputField value="{!proLymph.Examined__c}" />
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), false, true)}">
                            <apex:outputLabel >Method of detection</apex:outputLabel>
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Method_of_Detection__c}"/>&nbsp;
                                <apex:outputField value="{!proLymph.Single_Detection_Result__c}"/> Single cell(s)
                                <apex:outputField value="{!proLymph.Cluster_Detection_Result__c}"/> Cluster
                                <apex:outputField value="{!proLymph.Focus_Detection_Result__c}"/> Focus
                                <apex:outputField value="{!proLymph.Not_reported_Detection_Result__c}" /> Not reported
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Size of largest tumor deposit</apex:outputLabel>
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Size_of_Largest_Tumor__c}" />&nbsp;
                                <apex:outputField value="{!proLymph.Specific_Size_of_Largest_Tumor__c}" />
                                <apex:outputField value="{!proLymph.Tumor_Size_Measurement_Unit__c}"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Extramodal Extension</apex:outputLabel>
                            <apex:outputField value="{!proLymph.Extramodal_Extension__c}"/>
                        </apex:pageBlockSectionItem>
                    </apex:repeat>
                    <apex:pageBlockSectionItem >&nbsp;</apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <table>
                                <tr>
                                    <td rowspan="2"><apex:outputLabel >Total Nodes: </apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel ><apex:outputText value="{!totalLeftPositive}"/></apex:outputLabel></td>
                                    <td><apex:outputLabel >/</apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel ><apex:outputText value="{!totalLeftExmined}"/></apex:outputLabel></td>
                                </tr>
                                <tr>
                                    <td><apex:outputLabel >Positive</apex:outputLabel></td>
                                    <td>&nbsp;</td>
                                    <td><apex:outputLabel >Examined</apex:outputLabel></td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
                
                <apex:pageBlockSection title="Right Nodes" columns="1" rendered="{!showRightLymphNodes}">
                    <apex:repeat value="{!rightLymphNodes}" var="proLymph" >
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Sentinel Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Sentinel_Nodes__c}" />
                                <apex:outputLabel style="font-weight: bold;">Sentinel nodes:</apex:outputLabel>&nbsp;
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Axillary_Nodes__c}" />
                                <apex:outputLabel style="font-weight: bold;">Axillary Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), true, false)}" >
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Additional_Nodes__c}" />
                                <apex:outputLabel style="font-weight: bold;">Additional Nodes:</apex:outputLabel>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Axillary Nodes'), false, true)}" >
                            <apex:outputLabel >Location</apex:outputLabel>
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Node_Checkbox_Value__c}"/>
                                <apex:outputField value="{!proLymph.Location__c}"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Positive Nodes </apex:outputLabel>
                            <apex:outputField value="{!proLymph.Positive__c}" />
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Examined Nodes </apex:outputLabel>
                            <apex:outputField value="{!proLymph.Examined__c}" />
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem rendered="{!IF((proLymph.Node_Checkbox_Value__c == 'Additional Nodes'), false, true)}">
                            <apex:outputLabel >Method of detection</apex:outputLabel>
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Method_of_Detection__c}"/>&nbsp;
                                <apex:outputField value="{!proLymph.Single_Detection_Result__c}"/> Single cell(s)
                                <apex:outputField value="{!proLymph.Cluster_Detection_Result__c}"/> Cluster
                                <apex:outputField value="{!proLymph.Focus_Detection_Result__c}"/> Focus
                                <apex:outputField value="{!proLymph.Not_reported_Detection_Result__c}" /> Not reported
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Size of largest tumor deposit</apex:outputLabel>
                            <apex:outputPanel >
                                <apex:outputField value="{!proLymph.Size_of_Largest_Tumor__c}" />&nbsp;
                                <apex:outputField value="{!proLymph.Specific_Size_of_Largest_Tumor__c}" />
                                <apex:outputField value="{!proLymph.Tumor_Size_Measurement_Unit__c}"/>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel >Extramodal Extension</apex:outputLabel>
                            <apex:outputField value="{!proLymph.Extramodal_Extension__c}"/>
                        </apex:pageBlockSectionItem>
                    </apex:repeat>
                    <apex:pageBlockSectionItem >&nbsp;</apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <table>
                                <tr>
                                    <td rowspan="2"><apex:outputLabel >Total Nodes: </apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel ><apex:outputText value="{!totalRightPositive}"/></apex:outputLabel></td>
                                    <td><apex:outputLabel >/</apex:outputLabel></td>
                                    <td align="center"><apex:outputLabel ><apex:outputText value="{!totalRightExmined}"/></apex:outputLabel></td>
                                </tr>
                                <tr>
                                    <td><apex:outputLabel >Positive</apex:outputLabel></td>
                                    <td>&nbsp;</td>
                                    <td><apex:outputLabel >Examined</apex:outputLabel></td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
        </apex:pageBlockSection>
<!--  
      ================================================================================================================================================
      =====================================================Histology Section==============================================================================
      ======================================================================================================================================================
-->
        <apex:pageBlockSection title="Histology" columns="1" collapsible="false"/>
            <apex:tabPanel switchType="client" selectedTab="Calcification" tabClass="activeTab" inactiveTabClass="inactiveTab" activeTabClass="activeTab" contentStyle="font-size: 12px;">
                <apex:tab label="Calcification" name="Calcification">
                        <apex:pageBlock tabStyle="Account">
                            <apex:pageBlockSection columns="1">
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Are Calcifications present?" />
                                    <apex:outputField value="{!postSurObj.Are_Calcifications_Present__c}"/>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                        <apex:outputPanel rendered="{!IF((postSurObj.Are_Calcifications_Present__c = 'Yes'), true, false)}">
                            <apex:pageBlock tabStyle="Account">
                                <apex:pageBlockSection columns="1">
                                    <apex:pageBlockSectionItem >
                                        <apex:outputLabel value="Calcifications Details" />
                                        <apex:outputField value="{!postSurObj.Calcification_Details__c}" />
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </apex:outputPanel>
                </apex:tab>
                <apex:tab label="DCIS" name="DCIS">
                        <apex:pageBlock tabStyle="Account">
                            <apex:pageBlockSection >
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Is DCIS present?" />
                                    <apex:outputField value="{!postSurObj.Is_DCIS_Present__c}" />
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    <apex:outputPanel rendered="{!IF((postSurObj.Is_DCIS_Present__c = 'Yes'), true, false)}">
                        <apex:pageBlock title="Procedure(s): DCIS Details" tabStyle="Account">
                            <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(postSurObj.Id))}">
                                <c:DCISComplete pageController="{!postSurObj.Id}" key="dcis" subFormNew="Post Surgery Summary" pathid="null"/>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    </apex:outputPanel>                     
                </apex:tab>
                <apex:tab label="LCIS" name="LCIS">
                        <apex:pageBlock tabStyle="Account">
                            <apex:pageBlockSection >
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Is LCIS present?" />
                                    <apex:outputField value="{!postSurObj.Is_LCIS_Present__c}"/>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    <apex:outputPanel rendered="{!IF((postSurObj.Is_LCIS_Present__c = 'Yes'), true, false)}">
                        <apex:pageBlock title="Procedure(s): LCIS Details" tabStyle="Account">
                            <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(postSurObj.Id))}">
                                <c:LCISReadOnly pageController="{!postSurObj.Id}" key="lcis" subFormLCIS="Post Surgery Summary" pathid="null"/>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    </apex:outputPanel>
                </apex:tab>
                <apex:tab label="Invasive Tumor" name="Invasive Tumor">
                        <apex:pageBlock tabStyle="Account">
                            <apex:pageBlockSection >
                                <apex:pageBlockSectionItem >
                                    <apex:outputLabel value="Is invasive tumor present?" />
                                    <apex:outputField value="{!postSurObj.Is_invasive_tumor_present__c}" />
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    <apex:outputPanel rendered="{!IF((postSurObj.Is_invasive_tumor_present__c = 'Yes'), true, false)}">
                        <apex:pageBlock title="Invasive Tumor Details" tabStyle="Account">
                            <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(postSurObj.Id))}">
                                <c:InvasiveTumorReadOnly pageController="{!postSurObj.Id}" key="ivt" subFormIT="Post Surgery Summary" pathid="null"/>
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    </apex:outputPanel>
                </apex:tab>
            </apex:tabPanel>
<!--  
      ================================================================================================================================================
      =====================================================Margins Section==============================================================================
      ======================================================================================================================================================
-->       
        <apex:pageBlockSection title="Separately Submitted Margins" columns="1">
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="Separately Submitted Margins" />
               <apex:outputField value="{!postSurObj.separately_submitted_margins__c}" />
           </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="Invasive CA in any of the separately submitted margins?" />
               <apex:outputField value="{!postSurObj.Invasive_CA_present__c}" />
           </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="If invasive CA is present, is it at the true margin?" />
               <apex:outputField value="{!postSurObj.Invasive_CA_at_true_margin__c}"/>
           </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="In Situ disease in any of the separately submitted margins?" />
               <apex:outputField value="{!postSurObj.In_Situ_Disease_Present__c}"/>
           </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="If in situ disease present, is it at the true margin?" />
               <apex:outputField value="{!postSurObj.In_Situ_Disease_At_True_Margin__c}"/>
           </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="Other Changes Present?" />
               <apex:outputField value="{!postSurObj.Other_Changes_Present__c}"/>
           </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem labelStyle="width:30%">
               <apex:outputLabel value="" />
               <apex:outputPanel >
                <apex:outputField value="{!postSurObj.Other_Changes__c}"/><br/>
                <apex:outputField value="{!postSurObj.Other_Change__c}"/>
               </apex:outputPanel>
           </apex:pageBlockSectionItem>
       </apex:pageBlockSection>
<!--  
      ================================================================================================================================================
      =====================================================Receptors Section==============================================================================
      ======================================================================================================================================================
-->
    <apex:pageBlockSection title="Receptors" columns="1">
        <apex:outputPanel rendered="{!isReceptorLeftLaterlity}">
            <b>Receptors(s):</b><apex:outputText value="Left"/>
            <apex:outputPanel >
                <apex:pageBlock tabStyle="Account" rendered="{!NOT(ISNULL(postSurObj.Id))}">
                    <c:ReceptorsReadOnly objId="{!postSurObj.Id}" key="rcpt" subFormReceptors="Post Surgery Summary" subFormLaterlity="left"/>
                </apex:pageBlock>
            </apex:outputPanel>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!isReceptorRightLaterlity}">
            <b>Receptors(s):</b><apex:outputText value="Right"/>
            <apex:outputPanel >
                <apex:pageBlock tabStyle="Account" rendered="{!NOT(ISNULL(postSurObj.Id))}">
                    <c:ReceptorsReadOnly objId="{!postSurObj.Id}" key="rcptRight" subFormReceptors="Post Surgery Summary" subFormLaterlity="right"/>
                </apex:pageBlock>
            </apex:outputPanel>
        </apex:outputPanel>
    </apex:pageBlockSection>
<!--  
      ================================================================================================================================================
      =====================================================Staging Section==============================================================================
      ======================================================================================================================================================
-->
    <apex:pageBlockSection title="Staging" columns="1">
        <apex:outputPanel id="stagePanelLeft" rendered="{!isReceptorLeftLaterlity}">
            <b>Staging: </b><apex:outputText value="Left Breast"/>
            <apex:outputPanel rendered="{!NOT(ISNULL(postSurObj.Id))}">
<!--                <c:StagingReadOnlyComponent subFormLaterlity="left" recId="{!postSurObj.Id}"/>-->
                <apex:pageBlock tabStyle="Account">
                    <apex:pageBlockSection title="Staging Modifier" columns="1" >
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Modifier" />
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Staging_Modifier_Type__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="m-multiple primary tumors in a single site"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Modifier_multiple_primary__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="y-classification done during/following initial therapy"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Modifier_classification_done__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="r-indicates a recurrent tumor"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Modifier_indicates_recurrent__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="a-designates the staging done at autopsy"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Modifier_designates__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="Stages">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Tumor"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Tumor_Type__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Node"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Node_Type__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Metastasis" />
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Metastasis__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="Calculation">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Calculated Stage" />
                            <apex:outputPanel >
                                <apex:outputLabel value="" style="float: left; width: 84px;" />&nbsp;
                                <apex:outputLabel value="" style="padding-left: 55px; width: 84px;" />
                                <apex:outputField value="{!stagObjLeft.Calculated_Stage__c}" />&nbsp;
                                <apex:outputField value="{!stagObjLeft.Calculated_Stage_Value__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="Adjudicate">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Adjudicated Stage" />
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.Adjudicated_Stage__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:outputPanel >
                            <apex:pageBlockSection >                                
                                <apex:outputText value="{!stagObjLeft.Adjudicated_By__r.Name}" label="Adjudicated By" />
                            </apex:pageBlockSection>
                        </apex:outputPanel>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="If patient diagnosed with T4 at baseline, indicate final status" columns="1">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="T4 Tumor"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjLeft.T4_Tumor_final_status__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                </apex:pageBlock>
            </apex:outputPanel>
        </apex:outputPanel>
        
        <apex:outputPanel id="stagePanelRight" rendered="{!isReceptorRightLaterlity}">
            <b>Staging: </b><apex:outputText value="Right Breast"/>
            <apex:outputPanel rendered="{!NOT(ISNULL(postSurObj.Id))}">
<!--                <c:StagingReadOnlyComponent subFormLaterlity="right" recId="{!postSurObj.Id}"/>-->
                <apex:pageBlock tabStyle="Account">
                    <apex:pageBlockSection title="Staging Modifier" columns="1" >
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Modifier" />
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Staging_Modifier_Type__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="m-multiple primary tumors in a single site"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Modifier_multiple_primary__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="y-classification done during/following initial therapy"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Modifier_classification_done__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="r-indicates a recurrent tumor"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Modifier_indicates_recurrent__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem labelStyle="width: 24%;">
                            <apex:outputLabel value="a-designates the staging done at autopsy"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Modifier_designates__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="Stages">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Tumor"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Tumor_Type__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Node"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Node_Type__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Metastasis" />
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Metastasis__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="Calculation">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Calculated Stage" />
                            <apex:outputPanel >
                                <apex:outputLabel value="" style="float: left; width: 84px;" />&nbsp;
                                <apex:outputLabel value="" style="padding-left: 55px; width: 84px;" />
                                <apex:outputField value="{!stagObjRight.Calculated_Stage__c}" />&nbsp;
                                <apex:outputField value="{!stagObjRight.Calculated_Stage_Value__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="Adjudicate">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="Adjudicated Stage" />
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.Adjudicated_Stage__c}"  />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                        
                        <apex:outputPanel >
                            <apex:pageBlockSection >                                
                               <!--   <apex:outputField value="{!stagObjRight.Adjudicated_By__c}" label="Adjudicated By" rendered="{!IF(($Profile.Name != 'Custom Read Only User'), true, false)}" /> -->
                                <apex:outputText value="{!stagObjRight.Adjudicated_By__r.Name}" label="Adjudicated By" rendered="{!IF(($Profile.Name != 'Custom Read Only User'), true, false)}" />
                            </apex:pageBlockSection>
                        </apex:outputPanel>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection title="If patient diagnosed with T4 at baseline, indicate final status" columns="1">
                        <apex:pageBlockSectionItem >
                            <apex:outputLabel value="T4 Tumor"/>
                            <apex:outputPanel >
                                <apex:outputField value="{!stagObjRight.T4_Tumor_final_status__c}" />
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                </apex:pageBlock>
            </apex:outputPanel>
        </apex:outputPanel>
    </apex:pageBlockSection>
    
<!--  
      ================================================================================================================================================
      =====================================================RCB Section==============================================================================
      ======================================================================================================================================================
-->
    <apex:pageBlockSection title="Residual tumor burden calculations" columns="1">
        <apex:pageBlockSectionItem labelStyle="width: 24%;">
            <apex:outputLabel value="Patient has a pathologic complete response"/>
            <apex:outputField value="{!postSurObj.pcr__c}"/>
         </apex:pageBlockSectionItem>
         
         <apex:pageBlockSectionItem >
            <apex:outputLabel value="Primary Tumor Bed Area" />
            <apex:outputText value="{!areaBedTumorStr}" />
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
                <apex:outputLabel value="Overall Center Cellularity" />
                <apex:outputField value="{!postSurObj.RCB_Overall_Center_Cellularity__c}" />
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
                <apex:outputLabel value="% of CA in Situ Disease" />
                <apex:outputField value="{!postSurObj.percentage_of_CA_in_Situ_Disease__c}" />
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
                <apex:outputLabel value="# of lymph nodes positive" />
                <apex:outputText value="{!TotalPositiveNodesStr}" />
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
                <apex:outputLabel value="Diameter of largest met" />
                <apex:outputText value="{!LargestMetSizeStr}" />
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
                <apex:outputLabel value="RCB index" />
                <apex:outputField value="{!postSurObj.RCB_index__c}" />
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
                <apex:outputLabel value="RCB Class" />
                <apex:outputField value="{!postSurObj.RCB_Class__c}" />
          </apex:pageBlockSectionItem>
    </apex:pageBlockSection>
<!--  
      ================================================================================================================================================
      =====================================================Feed/ Attachment Section==============================================================================
      ======================================================================================================================================================
--> 
    <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(postSurObj.Id))}">
        <c:CRFAttachmentComponent rId="{!postSurObj.Id}" feedCRFName="Post_Surgaory_Summary__Feed" rtId="{!postSurObj.Root_CRF_Id__c}"/>
    </apex:pageBlockSection>
    
    <apex:pageBlockSection title="CRF Events" columns="1" rendered="{!NOT(ISNULL(postSurObj.Id))}">
        <c:CRFEventComponent rId="{!postSurObj.Id}" objectName="Post_Surgaory_Summary__c" rtId="{!postSurObj.Root_CRF_Id__c}"/>
    </apex:pageBlockSection>
    </apex:pageBlock>
    <apex:outputPanel id="msgPanelId" layout="block" style="width: 100%;">
                        <table width="100%">
                            <tr>
                                <td colspan="2" width="100%" align="center">
                                    <br /> 
                                    <font color="{!msgColor}">{!errorMsg}&nbsp;</font>
                                    <br />
                                </td>
                            </tr>
                            <tr>
                                <td width="30%">&nbsp;</td>
                                <td width="70%">
                                    <apex:outputLabel value="User Id :" style="font-weight: bold;" rendered="{!isComplete}"/>&nbsp;&nbsp;<apex:outputLabel value="{!$User.Username}" rendered="{!isComplete}"/>&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:outputLabel value="Secure Code: "  style="font-weight: bold;" rendered="{!isComplete}"/>&nbsp;&nbsp;<apex:inputSecret value="{!password}" rendered="{!isComplete}"/>&nbsp;&nbsp;
                                    <apex:commandButton value="  Sign and Submit  " action="{!signAndSubmit}" rendered="{!isComplete}"/>
                                    <apex:commandButton value="Resend Security Code" action="{!resendCode}" rerender="msgPanelId" status="counterStatus" rendered="{!isComplete}"/>
                                    <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
                                </td>
                            </tr>
                        </table>
                </apex:outputPanel> 
    </apex:tab>
</apex:tabPanel>
</apex:outputPanel>
</apex:form>
</apex:page>