<apex:page standardController="On_Study_Pathology_Form__c" extensions="OnStudyPathology" id="pageId" sideBar="false" action="{!insertPathology}" tabStyle="Patient_Custom__c">
<script>
    function check() {
        var insertedProcedureIds = document.getElementById('pageId:pageBlockPBB:pageSectionPBB:pageCompId:ProcedureComponentBakul:showProcedureForm:insertedProcedureIds').value;
        document.getElementById('pageId:formId:ProcedureIds').value = insertedProcedureIds;
        //alert(document.getElementById('pageId:formId:ProcedureIds').value); 
        check1();
        return true;
    }
    function check1() {
        var insertedProcedureIds1 = document.getElementById('pageId:pageBlockLNB:pageSectionLNB:pageCompId1:LymphProcedureComponentBakul:showProcedureForm:insertedLymphProcedureIds').value;
        document.getElementById('pageId:formId:lymphProcedureIds').value = insertedProcedureIds1;
        //alert(document.getElementById('pageId:formId:lymphProcedureIds').value); 
        return true;
    }
    function showDCIS(val){
        document.getElementById('pageId:formId:isDCIS').value = val.value;
        //alert(document.getElementById('pageId:DCISFormIdMain:isDCIS').value);
        if(val.value == 'Yes'){
            document.getElementById('pageId:formId:DCISOutputPanel').style.display='';
        } else {
            document.getElementById('pageId:formId:DCISOutputPanel').style.display='none'; 
        }
    }
    function showLCIS(val){ 
        document.getElementById('pageId:formId:isLCIS').value = val.value;
        //alert(document.getElementById('pageId:DCISFormIdMain:isLCIS').value);
        if(val.value == 'Yes'){
            document.getElementById('pageId:formId:LCISOutputPanel').style.display='';
        } else {
            document.getElementById('pageId:formId:LCISOutputPanel').style.display='none';
        }
    }
    function showITP(val){
        document.getElementById('pageId:formId:isInasive').value = val.value;
        //alert(document.getElementById('pageId:DCISFormIdMain:isInasive').value);
        if(val.value == 'Yes'){
            document.getElementById('pageId:formId:InvasiveTumorPanel').style.display='';
        } else {
            document.getElementById('pageId:formId:InvasiveTumorPanel').style.display='none';
        }
    }
    function showOtherInvasive(val){ 
        if(val.checked == true){
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:trId').style.display='';
        } else {
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:trId').style.display='none';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:trId').value="";
        }
    }
    function showOther(val) { 
        if(val.checked == true) {
            document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:textId').style.display='';
        } else {
            document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:textId').style.display='none';
            document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:textId').value="";
        }
    }
    
    var submit = false; 
    function DecideSubmitReceptors() {
        return submit;
    }
    
    /*function call_receptorController(id) {
        submit = call_sumERVal(id, 'pageId:formId:ReceptorsBlock:ReceptorsComp:recId');
        //alert(submit);
        return submit;
    }*/
    
    function showCalcification(){
        var calcificationVal = document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:calcificationsId').value;
        if(calcificationVal == 'Yes'){
            document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:calcificationsPresentId').style.display='';
        } else {
            document.getElementById('pageId:formId:DCISPageBlock:DCISPageBlockSection:DCISComponent:DCISCompId:calcificationsPresentId').style.display='none';
        }
    }
    
    function Cal_ERPRTotalScore(){ 
        if(document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:ERPSId') == null) return;
        var erps = document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:ERPSId').value.substring(0,1);
        var eris = document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:ERISId').value.substring(0,1);
        var ertotal;
        //alert('-erps-->'+erps);
        //alert('-eris-->'+eris);
        if(erps != 'N' && eris != 'N'){
            ertotal = parseInt(erps) + parseInt(eris);
        } else {
            ertotal = 0;
        }
        //alert('---ertotal--->'+parseInt(ertotal));
        if(!isNaN(ertotal)){    
            document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:ERTotalScoreId').innerHTML = ertotal;
            document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:ERTotalScoreHiddenId').value = ertotal;
        }
        
        var prps = document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:PRPSId').value.substring(0,1);
        var pris = document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:PRISId').value.substring(0,1);
        var prtotal;
        if(prps != 'N' && pris != 'N'){
            prtotal = parseInt(prps) + parseInt(pris);
        } else {
            prtotal = 0;
        }
        if(!isNaN(prtotal)){
            document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:PRTotalScoreId').innerHTML = prtotal;
            document.getElementById('pageId:formId:ReceptorsBlock:ReceptorsComp:receptorsMainComp:PRTotalScoreHiddenId').value = prtotal;
        }
    }
    
function Cal_PointsAndGrade(){
    var NG = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:NuclearGradeId').value;
    var MC = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:MitoticCountId').value;
    var TP = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TubulePapillaId').value;

    switch(NG)
    {
        case 'Grade I (low)':
            switch(MC)
            {
                case '1pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 3;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 3;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case '2pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case '3pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                break;
                case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                break;
            }
        break;
        case 'Grade II (Intermediate)':
            var MC = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:MitoticCountId').value;
            switch(MC)
            {
                case '1pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 4;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case '2pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case '3pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                break;
                case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                break;
            }
        break;
        case 'Grade III (high)':
            var MC = document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:MitoticCountId').value;
            switch(MC)
            {
                case '1pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'I';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 5;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'I';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case '2pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 6;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case '3pt':
                    switch(TP){
                        case '1pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'II';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 7;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'II';
                        break;
                        case '2pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 8;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                        break;
                        case '3pt':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 9;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'III';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 9;
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'III';
                        break;
                        case 'Indeterminate':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                        case 'Not reported':
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                        break;
                    }
                break;
                case 'Indeterminate':
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                break;
                case 'Not reported':
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
                        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
                break;
            }
        break;
        case 'Indeterminate':
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
        break;
        case 'Not reported':
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = 'N/A';
            document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = 'N/A';
        break;  
    }
    
    if(NG == '' || MC == '' || TP == '') {
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:TotalPointsId').innerHTML = '';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeId').innerHTML = '';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:totalPointsHiddenId').value = '';
        document.getElementById('pageId:formId:InvasiveTumorBlock:InvasiveTumorSection:InvasiveTumorComponent:compnewId:SBRGradeHiddenId').value = '';
    }
}

    function call_Submit(){
        submit();
    }
    
    /*function Call_cancel(){
        if(confirm("Completely cancel and remove?")){
            customCancel();
        }
    }*/
    
    function checkCancel() {
        if(confirm("Completely cancel and remove?")){
            return true;
        } else {
            return false;
        }
    }
    
    function checkDelete() {
        if(confirm("Are you sure you want to Delete this form?")){
            return true;
        } else {
            return false;
        }
    }
     
    function startSplash() {
        var divObj = document.getElementById('splashDiv');
        var msgSplash =document.getElementById('waitMsg');
        var browserName = navigator.appName;
        if(browserName == 'Netscape'){
            divObj.style.display='table-cell'; 
        } else {
            divObj.style.display='table-cell';
        }
    }
    
    function endSplash() {            
        document.getElementById('splashDiv').style.display='none';
    }
</script>
<style>      
.tableProcedureHeadPage {
    width: 22%;
}
.tableLateralityHeadPage {
    width: 6%;
}
.tableLocationHeadPage {
    width: 18%;
}

.activeTab {
    background: none repeat scroll 0 0 #FFFFFF;
    border-bottom: 2px solid #FFFFFF;
    color: #000000;
    font-weight: 600;
    width: 150px;
}

.inactiveTab {
        cursor: pointer;
        /*background-color: #7A9FA0;*/
        background:#2e84c5 url({!$Resource.Tabmenubg}) left top repeat-x;
        color: white; /*#3C3C3C;*/
        font-weight: bold;
        font-size: 12px;
        height: 15px;
        width: 160px;
        vertical-align: middle;
        /*padding-top: 4px;*/
        border: none;
}
    
.rich-tab-inactive {
    background-repeat: repeat-x;
    border-color: #FFFFFF;
    border-style: none;
    border-width: 0;
    cursor: pointer;
}

.rich-tabhdr-side-border {
    background-image:none; 
    border-radius: 4px 4px 0 0;
    background-color: none;
    width: 2px;
}

.rich-tabhdr-side-cell {
    box-shadow: 0 -2px 2px #A7A7A8;
    /*border: 2px solid #056FC1;*/
    border-top: 2px solid #056FC1;
    border-left: 2px solid #056FC1;
    border-right: 2px solid #056FC1;
    border-radius: 4px 4px 0 0;
}

.rich-tabpanel-content {
    background-color: #fff;
    border-left: 2px solid #056FC1;
    border-right: 2px solid #056FC1;
    border-bottom: 2px solid #056FC1;
}

.rich-tab-bottom-line {
    border-bottom: 1px solid #056FC1;
}

.accountTab .tertiaryPalette, .individualPalette .accountBlock .tertiaryPalette, .layoutEdit .individualPalette .accountBlock .tertiaryPalette {
    background-color: #97C7EC;
}

body .bPageBlock, body #bodyCell .bResource .secondaryPalette, body .secondaryPalette.bPageBlock, body .individualPalette .secondaryPalette.bPageBlock, body .bodyDiv .genericTable, body .genericPageBlockTable, body .bodyDiv .bSubBlock, body .bComponentBlock .bPageBlock, body .bMyDashboard .bPageBlock, body.rlHoverFrame .bPageBlock, body.subjectSelectionPopup div.choicesBox, body.lookupTab .secondaryPalette.bPageBlock, body.popupTab .secondaryPalette.bPageBlock, body.UserTagStatsPage .secondaryPalette.bPageBlock {
    background-color: #fff;
}
.name {
    font-size: 1.50em;
    font-weight: bold;
}
.selectbox{
    background-color: #2F96E4;
    font-family: Arial, sans-serif;
    font-size: 12px;
    font-weight: normal;
    height: 25px;
    position: relative;
    width: 152px;
    border:1px solid #adaeae; -moz-border-radius: 6px; -webkit-border-radius:6px; -khtml-border-radius: 6px; border-radius:6px;
    color:#fff;
    font-size:12px; font-weight: bold;
    padding:3px 0 3px 10px;
}
</style>    
<div id="splashDiv" style="display: none;width:100%;height:100%;background-color: #000;z-index: 1; position: absolute;opacity:0.5;">
    <div style="text-align: center; top: 40%;width:100%;height:100%;position: fixed;" class="circle"><apex:image value="{!$Resource.LoadingImg1}"></apex:image></div>
</div>
<span class ="name">Patient's Details</span>
 <br/>
  <c:PatientDetailReadOnly patientId="{!trialPatientObj.Patient_Id__c}" />
 <br/> 

<table width="100%">
    <tr>
        <td width="40%" align="left">
             <span class ="name"> On-Study Pathology </span>
        </td>
        <td width="60%" align="left">
            <apex:outputText style="font-weight: bold; color:#fff; padding-right:7px;" styleClass="selectbox" id="trialName" value="Trial: {!trialPatientObj.Trial_Id__r.Name}" />
        </td>
    </tr>
</table>
<apex:form id="formId">
    <apex:pageBlock id="menoPageBlockBtn" helpTitle="Help"  helpUrl="/apex/OnStudyPathologyformUserGuide" rendered="{!isComplete}" tabStyle="Account">
        <apex:pageBlockButtons location="top">
            <apex:commandButton action="{!next}" value="Save & Close" reRender="theTabPanel,errMsg" status="splashStatus">
                <apex:param name="tabNext" value="saveAndClose"/>
            </apex:commandButton>
            <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>
            <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
        </apex:pageBlockButtons>
    </apex:pageBlock>
    <apex:pageBlock rendered="{!isDelete}">
          <apex:pageBlockButtons location="top" >
              <apex:commandButton action="{!customCancel}" value="Delete" onclick="return checkDelete();" immediate="true" rendered="{!profileName =='System Administrator'}"/>
                <apex:commandLink style="text-decoration:none;padding:3.3px;" rendered="{!ospObj.Status__c == 'Accepted'}" styleClass="btn" target="_blank" action="{!redirect}" value="Generate Pdf"   /> 
                 
          </apex:pageBlockButtons>
    </apex:pageBlock>
    
    <apex:actionFunction name="next" action="{!next}"  rerender="theTabPanel,errMsg" status="splashStatus"/>
    <apex:inputHidden value="{!nextTabName}" id="nextTabNameID"/>
    <apex:actionStatus id="splashStatus" onstart="startSplash();" onstop="endSplash(); " />      
    <apex:pageMessages id="errMsg"/>
    <apex:outputPanel id="theOutputPanel">
        <script>
            function enterToNextTab(val){
                if('{!isComplete}' != 'false'){
                    document.getElementById('pageId:formId:nextTabNameID').value = val;
                    next(); 
                }
             }
        </script>
    </apex:outputPanel>
    <apex:tabPanel switchType="client" value="{!currentTab}" id="theTabPanel" tabClass="activeTab" inactiveTabClass="inactiveTab" activeTabClass="activeTab" contentStyle="font-size: 12px;">
        <apex:tab label="Procedure" name="procedureTab" id="ProcedureId" ontabenter="enterToNextTab('procedureTab');" rendered="{!isComplete}" >
            <!--<apex:outputPanel rendered="{!isPro}">-->
                 
                    <apex:inputHidden id="ProcedureIds" value="{!ProcedureIds}" />
                    <apex:inputHidden id="lymphProcedureIds" value="{!lymphProcedureIds}" />
<!--                    <apex:actionFunction name="customCancel" action="{!customCancel}" />-->
                    <apex:pageBlock id="blockId" tabStyle="Account">
                        <apex:pageBlockButtons location="top">
<!--                            <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                            <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel,errMsg" status="splashStatus">
                                 <apex:param name="tabNext" value="DiseaseDescription"/>
                            </apex:commandButton>
                            <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
                        </apex:pageBlockButtons>
                        <apex:pageBlockSection columns="1" id="blockSectionId">
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Does the patient have bilateral breast cancer?" for="procedureDate"/>
                                <apex:outputPanel >
                                    <table>  
                                        <tr>   
                                            <td>
                                                <apex:inputField value="{!ospObj.Does_the_patient_have_bilateral_breast_c__c}" id="procedureDate" required="true"/>             
                                            </td>
                                        </tr>
                                    </table>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem >
                                <apex:outputLabel value="Tumor laterality (or side with most advanced disease)" for="Tumorlaterality"/>
                                <apex:outputPanel >
                                    <table>
                                        <tr>
                                            <td>
                                                <apex:inputField value="{!ospObj.Tumor_laterality__c}" id="Tumorlaterality" required="true"/>
                                            </td>
                                            <td>
                                                <apex:outputlabel value="Select the breast that meets the criteria for the study"/>
                                            </td>
                                        </tr>
                                    </table>
                                </apex:outputPanel>
                            </apex:pageBlockSectionItem>
                        </apex:pageBlockSection>
                    </apex:pageBlock> 
                <apex:pageBlock title="Positive Breast Biopsies" id="pageBlockPBB" tabStyle="Account">
                    <apex:pageBlockSection columns="1" id="pageSectionPBB">
                        <c:ProcedureComponent subForm="On-Study Pathology Form(Positive Breast Biopsies)" id="pageCompId"/>
                    </apex:pageBlockSection>   
                </apex:pageBlock>
                <apex:pageBlock title="Lymph Node Biopsies" id="pageBlockLNB" tabStyle="Account">
                    <apex:pageBlockSection columns="1" id="pageSectionLNB">
                        <c:LymphProcedureComponent subForm="On-Study Pathology Form(Lymph Node Biopsies)" id="pageCompId1"/>
                    </apex:pageBlockSection>
                </apex:pageBlock>
            <!--</apex:outputPanel>-->
        </apex:tab> 
         <apex:tab label="Disease Description" name="DiseaseDescription" id="tabTwo" ontabenter="enterToNextTab('DiseaseDescription');" rendered="{!isComplete}" >
         
            <!--<apex:outputPanel rendered="{!isDesc}">--> 
                    
                    <apex:inputHidden value="{!isDCIS}" id="isDCIS"/>
                    <apex:inputHidden value="{!isLCIS}" id="isLCIS"/>
                    <apex:inputHidden value="{!isInasive}" id="isInasive"/>
                    <apex:pageBlock tabStyle="Account">
                        <apex:pageBlockButtons location="top">
<!--                            <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                            <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel,errMsg" status="splashStatus" immediate="true">
                                <apex:param name="tabPrevious" value="procedureTab"/>  
                            </apex:commandButton>
                            <apex:commandButton action="{!next}" value="Next"  reRender="theTabPanel,errMsg" status="splashStatus">
                                 <apex:param name="tabNext" value="Receptors"/>
                            </apex:commandButton>
                            <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
                        </apex:pageBlockButtons>
                    </apex:pageBlock>
                <b>Procedure(s):</b><apex:outputText value="{!ospObj.Tumor_laterality__c}"/>
                <apex:tabPanel switchType="client" value="{!currentTab}" id="innerTabPanel" tabClass="activeTab" inactiveTabClass="inactiveTab" activeTabClass="activeTab" contentStyle="font-size: 12px;">
                    <apex:tab label="DCIS" name="DCIS" id="tabTwoDCIS" >
                                <apex:pageBlock id="pageBlockIdAcc" tabStyle="Account">  
                                    <apex:pageBlockSection id="pageBlockSectionIdDSIC">
                                        <apex:pageBlockSectionItem id="pageBlockesctionId">
                                            <apex:outputLabel value="Is DCIS present?" />
                                            <apex:inputField value="{!ospObj.Is_DCIS_Present__c}" onChange="showDCIS(this);" id="DCISDropdown" /> 
                                        </apex:pageBlockSectionItem> 
                                    </apex:pageBlockSection>
                                </apex:pageBlock>   
                                <script>
                                    showDCIS(document.getElementById('pageId:formId:pageBlockIdAcc:pageBlockSectionIdDSIC:pageBlockesctionId:DCISDropdown'));
                                </script>
                            <apex:outputPanel id="DCISOutputPanel" style="display : none;">
                                <apex:pageBlock title="Procedure(s): DCIS Details" id="DCISPageBlock" tabStyle="Account">
                                    <apex:pageBlockSection columns="1" id="DCISPageBlockSection">
                                        <c:DCIS pageController="{!this}" key="dcis" subFormNew="On-Study Pathology Form" id="DCISComponent"/>
                                    </apex:pageBlockSection>
                                </apex:pageBlock>
                            </apex:outputPanel>
                    </apex:tab>
                    <apex:tab label="LCIS" name="LCIS" id="tabTwoLCIS" >
                            <apex:pageBlock id="LCISPageBlock" tabStyle="Account">
                                <apex:pageBlockSection id="LCISPageBlockSection">
                                    <apex:pageBlockSectionItem id="LCISPageBlockSectionItem">
                                        <apex:outputLabel value="Is LCIS present?" />
                                        <apex:inputField value="{!ospObj.Is_LCIS_Present__c}" onChange="showLCIS(this);" id="LCISDropDown" />
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                            <script>
                                showLCIS(document.getElementById('pageId:formId:LCISPageBlock:LCISPageBlockSection:LCISPageBlockSectionItem:LCISDropDown'));
                            </script>
                        <apex:outputPanel id="LCISOutputPanel" style="display : none;" >
                            <apex:pageBlock title="Procedure(s): LCIS Details" id="LCISPageBlockId" tabStyle="Account">
                                <apex:pageBlockSection columns="1" id="LCISOutputPanelSection">
                                    <c:LCIS pageController="{!this}" key="lcis" subFormLCIS="On-Study Pathology Form" id="LCISComponent"/>
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </apex:outputPanel> 
                    </apex:tab>
                    <apex:tab label="Invasive Tumor" name="Invasive Tumor" id="tabTwoIT" >
                            <apex:pageBlock id="invasivePageBlock" tabStyle="Account">
                                <apex:pageBlockSection id="invasivePageBlockSection">
                                    <apex:pageBlockSectionItem id="invasivePageBlockSectionItem">
                                        <apex:outputLabel value="Is invasive tumor present?" />
                                        <apex:inputField value="{!ospObj.Is_invasive_tumor_present__c}" onChange="showITP(this);" id="invasiveDropDown" />
                                    </apex:pageBlockSectionItem>
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        <apex:outputPanel id="InvasiveTumorPanel" style="display : {! IF(ospObj.Is_invasive_tumor_present__c = 'Yes', 'block', 'none')};">
                            <apex:pageBlock title="Invasive Tumor Details" id="InvasiveTumorBlock" tabStyle="Account">
                                <apex:pageBlockSection columns="1" id="InvasiveTumorSection">
                                    <c:InvasiveTumor pageController="{!this}" key="ivt" subFormIT="On-Study Pathology Form" id="InvasiveTumorComponent"/>
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </apex:outputPanel>
                        <script>
                                //showITP(document.getElementById('pageId:formId:invasivePageBlock:invasivePageBlockSection:invasivePageBlockSectionItem:invasiveDropDown'));
                                Cal_PointsAndGrade();
                         </script>
                    </apex:tab>
                </apex:tabPanel>
         <!--   </apex:outputPanel>-->
        </apex:tab>
        <apex:tab label="Receptors" name="Receptors" id="tabThree" ontabenter="enterToNextTab('Receptors');" rendered="{!isComplete}" >
                    <!--<apex:actionFunction name="submit" action="{!submit}" />-->
                <apex:pageBlock tabStyle="Account">
                    <apex:pageBlockButtons location="top">
<!--                        <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" immediate="true"/>-->
                        <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel,errMsg" status="splashStatus">
                            <apex:param name="tabPrevious" value="DiseaseDescription"/>
                        </apex:commandButton>
                        <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel,errMsg" status="splashStatus">
                             <apex:param name="tabNext" value="CommentsAndAttachments"/>
                        </apex:commandButton>
                        <apex:actionStatus id="counterStatus" startText="Processing..."/>
                     </apex:pageBlockButtons>
                </apex:pageBlock>
                <script>
                    Cal_ERPRTotalScore();
                </script>
            <apex:outputPanel >
                <b>Receptors(s):</b><apex:outputText value="{!ospObj.Tumor_laterality__c}"/>
                <apex:pageBlock id="ReceptorsBlock" tabStyle="Account">
                    <c:Receptors pageController="{!this}" key="rcpt" subFormReceptors="On-Study Pathology Form" id="ReceptorsComp" recId="{!ospObj.Id}" />
                </apex:pageBlock>
            </apex:outputPanel>
        </apex:tab>
        <apex:tab label="Comments & Attachments" name="CommentsAndAttachments" id="tabFour" ontabenter="enterToNextTab('CommentsAndAttachments');" rendered="{!isComplete}">
        
            <apex:pageBlock tabStyle="Account">
                <apex:pageBlockButtons location="top" >
<!--                    <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" />-->
                    <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel,errMsg" status="splashStatus">
                        <apex:param name="tabPrevious" value="Receptors"/>
                    </apex:commandButton>
                    <apex:commandButton action="{!next}" value="Next" reRender="theTabPanel,errMsg" status="splashStatus">
                            <apex:param name="tabNext" value="Complete"/>
                    </apex:commandButton>  
                    <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
                </apex:pageBlockButtons>
                <apex:pageMessage summary="Please redact all PHI information from attachments." severity="info" strength="3"/>
                <apex:pageBlockSection columns="1">
<!--                    <chatter:feedWithFollowers entityId="{!ospObj.Id}"></chatter:feedWithFollowers>-->
                    <apex:iframe src="/apex/ChatterPage?recId={!ospObj.Id}" scrolling="true" id="theIframe"/>
                    <c:CRFAttachmentComponent rId="{!ospObj.Id}" feedCRFName="On_Study_Pathology_Form__Feed" rtId="{!ospObj.Root_CRF_Id__c}"/>
                </apex:pageBlockSection>
            </apex:pageBlock>
        </apex:tab>
        <apex:tab label="Complete" name="Complete" id="tabFive" ontabenter="enterToNextTab('Complete');" >
                
            <apex:pageBlock tabStyle="Account">
           <!-- <apex:pageBlockButtons location="top" >
               <apex:commandButton action="{!customCancel}" value="Delete" onclick="return checkCancel();" immediate="true" rendered="{!profileName =='System Administrator'}"/>
               </apex:pageBlockButtons> -->
                <!--<apex:actionFunction name="editCRF" action="{!editCRF}" rerender="theOutputPanel" status="processStatus"/>
                
                
                <apex:outputPanel id="dummayPanel">
                    <script> 
                        //alert("{!openInEditMode}");
                        if("{!openInEditMode}" == "true") {
                            editCRF();
                        }
                    </script>
                    <apex:actionStatus id="processStatus" startText="Processing..." onstop=""/>
                </apex:outputPanel>-->
            <apex:outputPanel rendered="{!IF($Profile.Name == 'Custom Read Only User' || $Profile.Name == 'Trial Administrator', false, true)}">
                <apex:pageBlock tabStyle="Account"> 
                    <apex:pageBlockButtons location="top" >
                        <apex:commandButton action="{!editCRF}" value="Edit" reRender="formId" status="counterStatus" rendered="{!IF(AND(ospObj.Status__c == 'Rejected', isShowEditButton),true,false)}"/>
    <!--                    <apex:commandButton action="{!customCancel}" value="Cancel" onclick="return checkCancel();" rendered="{!isComplete}"/>-->
                        <apex:commandButton action="{!previous}" value="Previous" reRender="theTabPanel,errMsg" status="splashStatus" rendered="{!isComplete}">
                            <apex:param name="tabPrevious" value="CommentsAndAttachments"/>
                        </apex:commandButton>
                        <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
                    </apex:pageBlockButtons>
                </apex:pageBlock>
            </apex:outputPanel>
                <apex:pageBlockSection columns="1" >
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="Does the patient have bilateral breast cancer?" for="procedureDate"/>
                        <apex:outputPanel >
                            <table>
                                <tr>
                                    <td>
                                        <apex:outputField value="{!ospObj.Does_the_patient_have_bilateral_breast_c__c}" />              
                                    </td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="Tumor laterality (or side with most advanced disease)" for="Tumorlaterality"/>
                        <apex:outputPanel >
                            <table>
                                <tr>
                                    <td>
                                        <apex:outputField value="{!ospObj.Tumor_laterality__c}" />
                                    </td>
                                </tr>
                            </table>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
            </apex:pageBlock>
            <apex:pageBlock title="Positive Breast Biopsies" tabStyle="Account">
                <apex:pageBlockSection columns="1" >
                    <!--<c:ProcedureReadOnlyComponent subForm="On-Study Pathology Form(Positive Breast Biopsies)" />-->
                    <apex:dataTable cellpadding="3" cellspacing="1" width="100%" value="{!lstPositiveProWrapper}" var="newPro" rowClasses="odd,even">
            <!--                ==============================make date column=============================    -->
                        <apex:column style="" headerClass="tableHead tableDateHead" >
                            <apex:facet name="header">Date</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proPositive.Date_Of_Procedure__c}" />
                            </apex:outputPanel>  
                        </apex:column>
                        
            <!--                ==============================make Procedure column=============================    -->
                        <apex:column style="" headerClass="tableHead tableProcedureHead" >
                            <apex:facet name="header">Procedure</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proPositive.Procedure_Name__c}" />
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!IF((newPro.proPositive.Procedure_Name__c = 'Core biopsy'), true, false)}">
                                <apex:outputlabel value="{!newPro.proScanCheckString}" rendered="{!NOT(ISBLANK(newPro.proScanCheckString))}"/>
                            </apex:outputPanel>
                        </apex:column>
                         
            <!--                ==============================make Laterality column=============================    -->
                        <apex:column style="" headerClass="tableHead tableLateralityHead">
                            <apex:facet name="header">Laterality</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proPositive.Laterality__c}" />
                            </apex:outputPanel>
                        </apex:column>
                        
            <!--                ==============================make Location column=============================    -->
                        <apex:column style="" headerClass="tableHead tableLocationHead">
                            <apex:facet name="header">Location</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proPositive.Location__c}" />
                            </apex:outputPanel>
                        </apex:column> 
                    </apex:dataTable>
                </apex:pageBlockSection>
            </apex:pageBlock>
            <apex:pageBlock title="Lymph Node Biopsies" tabStyle="Account">
                <apex:pageBlockSection columns="1">
                    <!--<c:LymphProcedureReadOnlyComponent subForm="On-Study Pathology Form(Lymph Node Biopsies)" />-->
                    <apex:dataTable cellpadding="3" cellspacing="1" width="100%" value="{!lstLymphProWrapper}" var="newPro" rowClasses="odd,even">
            <!--                ==============================make date column=============================    -->
                        <apex:column style="" headerClass="tableHead tableDateHead" >
                            <apex:facet name="header">Date</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proLymph.Date_Of_Procedure__c}" />
                            </apex:outputPanel>
                        </apex:column>
                        
            <!--                ==============================make Procedure column=============================    -->
                        <apex:column style="" headerClass="tableHead tableProcedureHead" >
                            <apex:facet name="header">Procedure</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proLymph.Procedure_Name__c}" />
                            </apex:outputPanel> 
                            <apex:outputPanel rendered="{!IF((newPro.proLymph.Procedure_Name__c = 'Core biopsy (lymph node)'), true, false)}">
                                <apex:outputlabel value="{!newPro.proLymphScanCheckString}" rendered="{!NOT(ISBLANK(newPro.proLymphScanCheckString))}"/>
                            </apex:outputPanel>
                        </apex:column>
                        
            <!--                ==============================make Laterality column=============================    -->
                        <apex:column style="" headerClass="tableHead tableLateralityHead">
                            <apex:facet name="header">Laterality</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proLymph.Laterality__c}" />
                            </apex:outputPanel>
                        </apex:column>
                        
            <!--                ==============================make Location column=============================    -->
                        <apex:column style="" headerClass="tableHead tableLocationHead">
                            <apex:facet name="header">Location</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proLymph.Location__c}" />
                            </apex:outputPanel>
                        </apex:column>
                        
            <!--                ==============================make node result column=============================    -->
                        <apex:column style="" headerClass="tableHead tableLateralityHead" >
                            <apex:facet name="header">Node Result</apex:facet>
                            <apex:outputPanel >
                                <apex:outputField value="{!newPro.proLymph.Node_Result__c}" />
                            </apex:outputPanel>
                        </apex:column>  
                    </apex:dataTable>
                </apex:pageBlockSection>
            </apex:pageBlock>
            <apex:pageBlock title="Procedure(s): DCIS Details" tabStyle="Account">
                <apex:pageBlockSection >
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="Is DCIS present?" />
                        <apex:outputField value="{!ospObj.Is_DCIS_Present__c}" />
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
                <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(ospObj.Id))}">
                    <c:DCISComplete pageController="{!ospObj.Id}" key="dcis" subFormNew="On-Study Pathology Form" pathid="{!ospObj.Id}"/>
                </apex:pageBlockSection>
            </apex:pageBlock>
            <apex:pageBlock title="Procedure(s): LCIS Details" tabStyle="Account">
                <apex:pageBlockSection id="LCISPageBlockSection">
                    <apex:pageBlockSectionItem id="LCISPageBlockSectionItem">
                        <apex:outputLabel value="Is LCIS present?" />
                        <apex:outputField value="{!ospObj.Is_LCIS_Present__c}" />
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
                <apex:pageBlockSection columns="1" id="LCISOutputPanelSection" rendered="{!NOT(ISNULL(ospObj.Id))}">
                    <c:LCISReadOnly pageController="{!ospObj.Id}" key="lcis" subFormLCIS="On-Study Pathology Form" id="LCISComponent" pathid="{!ospObj.Id}"/>
                </apex:pageBlockSection>
            </apex:pageBlock> 
            <apex:pageBlock tabStyle="Account">
                <apex:pageBlockSection >
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="Is invasive tumor present?" />
                        <apex:outputField value="{!ospObj.Is_invasive_tumor_present__c}" />
                    </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
                <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(ospObj.Id))}">
                    <c:InvasiveTumorReadOnly pageController="{!ospObj.Id}" key="ivt" subFormIT="On-Study Pathology Form" pathid="{!ospObj.Id}" />
                </apex:pageBlockSection>
            </apex:pageBlock>
            <apex:pageBlock tabStyle="Account">
                <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(ospObj.Id))}">
<!--                    <c:ReceptorsReadOnly objId="{!ospObj.Receptors__c}" key="rcpt" subFormReceptors="On-Study Pathology Form" id="ReceptorsComp" />-->
                    <c:ReceptorsReadOnly objId="{!ospObj.Id}" key="rcpt" subFormReceptors="On-Study Pathology Form" id="ReceptorsComp" />
                </apex:pageBlockSection>
                <apex:pageBlockSection columns="1" rendered="{!NOT(ISNULL(ospObj.Id))}">
                    <c:CRFAttachmentComponent rId="{!ospObj.Id}" feedCRFName="On_Study_Pathology_Form__Feed" rtId="{!ospObj.Root_CRF_Id__c}"/>
                </apex:pageBlockSection>
                
                <apex:pageBlockSection title="CRF Events" columns="1" rendered="{!NOT(ISNULL(ospObj.Id))}">
                    <c:CRFEventComponent rId="{!ospObj.Id}" objectName="On_Study_Pathology_Form__c" rtId="{!ospObj.Root_CRF_Id__c}"/>
                </apex:pageBlockSection>
            </apex:pageBlock>
            <apex:outputPanel id="msgPanelId" layout="block" style="width: 100%;">
            <table width="100%">
                <tr>
                    <td colspan="2" width="100%" align="center">
                        <br /> 
                        <font color="{!msgColor}">{!errorMsg1}&nbsp;</font>
                        <br />
                    </td>
                </tr>
                <tr>
                    <td width="30%">&nbsp;</td>
                    <td width="70%">
                        <apex:outputLabel value="User Id :" style="font-weight: bold;" rendered="{!isComplete}"/>&nbsp;&nbsp;<apex:outputLabel value="{!$User.Username}" rendered="{!isComplete}"/>&nbsp;&nbsp;&nbsp;&nbsp;
                        <apex:outputLabel value="Secure Code :"  style="font-weight: bold;" rendered="{!isComplete}"/>&nbsp;&nbsp;<apex:inputSecret value="{!password}" rendered="{!isComplete}"/>&nbsp;&nbsp;
                        <apex:commandButton value="  Sign and Submit  " action="{!signAndSubmit}" rerender="theTabPanel,errMsg" status="counterStatus" rendered="{!isComplete}"/>
                        <apex:commandButton value="Resend Security Code" action="{!resendCode}" rerender="msgPanelId" status="counterStatus" rendered="{!isComplete}"/>
                        <apex:actionStatus id="counterStatus" startText="Processing..." onstop=""/>
                    </td>
                </tr>
            </table>
        </apex:outputPanel> 
        </apex:tab>
    </apex:tabPanel>
</apex:form>
</apex:page>